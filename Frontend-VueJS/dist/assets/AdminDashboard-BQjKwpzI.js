import{c as A,r as u,a as N,o as xt,z as i,E as vt,b as a,d as l,e as t,k as f,f as p,u as c,S as ft,t as n,F as w,l as k,w as gt,g as j,h as bt,L as yt,n as b,C as ht,G as _t,A as L,i as v,v as g,X as $e,x as ge,m as wt,I as kt,D as Se}from"./index-DFNxEs4S.js";import{B as Le}from"./book-open-BxVCQGP4.js";import{P as Ae,C as Ct,a as jt,U as Rt}from"./user-check-Dt4OtuiS.js";import{S as zt}from"./search-0KCnwv06.js";/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=A("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=A("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=A("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=A("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=A("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=A("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=A("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),St={class:"min-h-screen bg-gray-50"},Lt={class:"bg-[#030213] text-white px-4 py-4"},At={class:"max-w-7xl mx-auto flex justify-between items-center"},Vt={class:"flex items-center gap-3"},Dt={class:"flex items-center gap-3 sm:gap-4"},Bt={class:"relative"},Et={key:0,class:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center"},Pt={key:0,class:"absolute right-0 top-10 w-80 sm:w-96 bg-white rounded-xl shadow-2xl border z-50 max-h-[70vh] overflow-hidden"},Tt={class:"px-4 py-3 border-b flex items-center justify-between"},Nt={class:"overflow-y-auto max-h-[50vh]"},Ft={key:0,class:"px-4 py-8 text-center text-gray-400 text-sm"},It={class:"flex items-start gap-3"},Ht={class:"flex-1 min-w-0"},Gt={class:"text-sm text-gray-800"},Ot={class:"text-[11px] text-gray-400 mt-1"},Jt=["onClick"],Yt={key:0,class:"min-h-screen flex items-center justify-center"},Xt={key:1},Qt={class:"bg-white border-b"},Wt={class:"max-w-7xl mx-auto flex overflow-x-auto"},Kt={class:"max-w-7xl mx-auto px-4 py-8"},Zt={key:0},es={class:"flex justify-between items-center mb-6"},ts={key:0,class:"text-center py-12"},ss={key:1,class:"text-center py-12 text-gray-500"},os={key:2,class:"space-y-4"},ls=["src"],as={class:"flex-1 min-w-0"},ns={class:"font-semibold text-gray-800"},rs={class:"text-sm text-gray-500 truncate"},is={class:"flex flex-wrap gap-2 sm:gap-4 mt-1 text-xs text-gray-400"},ds={class:"bg-gray-100 px-2 py-0.5 rounded"},us={class:"flex gap-2 flex-shrink-0 self-end sm:self-center"},cs=["onClick"],ms=["onClick"],ps={key:1},xs={class:"flex justify-between items-center mb-6"},vs={key:0,class:"text-center py-12"},fs={key:1,class:"text-center py-12 text-gray-500"},gs={key:2,class:"space-y-4"},bs={class:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg bg-emerald-50 flex items-center justify-center flex-shrink-0"},ys={class:"flex-1 min-w-0"},hs={class:"flex items-center gap-2 flex-wrap"},_s={class:"font-semibold text-gray-800"},ws={class:"text-sm text-gray-500 truncate"},ks={class:"flex flex-wrap gap-2 sm:gap-4 mt-1 text-xs text-gray-400"},Cs={key:0},js={key:1},Rs={key:2,class:"bg-gray-100 px-2 py-0.5 rounded"},zs={class:"flex gap-2 flex-shrink-0 self-end sm:self-center"},Us=["onClick"],qs=["onClick"],Ms={key:2},$s={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Ss={class:"lg:col-span-2"},Ls={class:"flex justify-between items-center mb-6"},As={class:"text-sm text-gray-500"},Vs={key:0,class:"text-center py-12"},Ds={key:1,class:"text-center py-12 text-gray-500"},Bs={key:2,class:"space-y-4"},Es={class:"flex flex-col sm:flex-row sm:items-start gap-4"},Ps={class:"flex-1 min-w-0"},Ts={class:"flex items-center gap-2 flex-wrap mb-2"},Ns={class:"font-semibold text-gray-800"},Fs={class:"space-y-1 text-sm text-gray-600"},Is=["href"],Hs=["href"],Gs={class:"bg-gray-100 px-2 py-0.5 rounded"},Os={key:0,class:"mt-2 text-gray-500 italic"},Js={class:"text-xs text-gray-400 mt-2"},Ys={class:"flex flex-wrap gap-2 flex-shrink-0"},Xs=["value","onChange"],Qs=["onClick"],Ws={class:"flex justify-between items-center mb-6"},Ks={class:"text-sm text-gray-500"},Zs={key:0,class:"text-center py-12"},eo={key:1,class:"text-center py-12 text-gray-500 bg-white rounded-xl border"},to={key:2,class:"space-y-3"},so={class:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center flex-shrink-0"},oo={class:"flex-1 min-w-0"},lo={class:"font-semibold text-gray-800 text-sm"},ao={class:"text-xs text-emerald-600"},no={class:"text-xs text-gray-400"},ro={class:"flex gap-1 flex-shrink-0"},io=["value","onChange"],uo=["onClick"],co={key:3},mo={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},po={class:"lg:col-span-2"},xo={class:"grid grid-cols-5 sm:grid-cols-6 lg:grid-cols-10 gap-2 mb-8"},vo=["onClick"],fo={class:"text-[10px] font-bold block"},go={class:"text-lg font-bold block leading-tight"},bo={class:"text-[10px] block"},yo={key:0,class:"bg-white rounded-xl border p-5"},ho={class:"font-semibold text-gray-800 mb-4 text-lg"},_o={class:"mb-6"},wo={class:"text-sm font-medium text-gray-600 mb-3"},ko={key:0,class:"text-sm text-gray-400 italic"},Co={key:1,class:"flex flex-wrap gap-2"},jo={class:"mb-6"},Ro={key:0,class:"text-sm text-gray-400 italic mb-3"},zo={key:1,class:"space-y-2 mb-4"},Uo={key:0,class:"text-[11px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded"},qo=["value","onChange"],Mo=["value"],$o=["onClick"],So={key:0,class:"text-sm text-gray-400 italic"},Lo={key:1,class:"space-y-2"},Ao={class:"flex-1 min-w-0"},Vo={class:"text-sm text-gray-800"},Do={class:"text-[11px] text-gray-400 mt-0.5"},Bo=["onClick"],Eo={key:1,class:"bg-white rounded-xl border p-8 text-center text-gray-400"},Po={class:"flex justify-between items-center mb-4"},To={class:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium"},No={class:"flex gap-2"},Fo={key:0,class:"text-center py-8 text-gray-400 text-sm"},Io={key:1,class:"space-y-2"},Ho=["onClick"],Go={class:"flex-1 min-w-0"},Oo={class:"text-xs text-gray-400"},Jo=["onClick"],Yo={key:0},Xo={class:"relative mb-6"},Qo={key:0,class:"text-center py-12"},Wo={key:1,class:"text-center py-12 text-gray-500"},Ko={key:2,class:"space-y-3"},Zo={class:"flex flex-col sm:flex-row sm:items-center gap-3"},el={class:"flex items-center gap-3 flex-1 min-w-0"},tl={class:"min-w-0"},sl={class:"font-semibold text-gray-800"},ol={class:"text-xs text-gray-400"},ll={class:"flex items-center gap-3 self-end sm:self-center"},al=["value","onChange"],nl={key:1,class:"text-xs text-gray-400 italic"},rl=["onClick"],il={class:"flex flex-wrap items-center gap-3 pl-13 text-sm border-t pt-3"},dl={class:"flex items-center gap-2 cursor-pointer"},ul=["checked","onChange"],cl={key:0,class:"flex items-center gap-2"},ml=["value","onChange"],pl=["value","onChange"],xl={class:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},vl={class:"p-6 border-b flex justify-between items-center"},fl={class:"text-xl font-semibold"},gl={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},bl={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},yl={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},hl={class:"flex flex-col sm:flex-row gap-3"},_l={class:"flex-1 cursor-pointer"},wl={class:"flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-xl hover:border-emerald-500 transition-colors bg-gray-50"},kl={class:"text-sm text-gray-500"},Cl=["disabled"],jl={key:0,class:"rounded-xl overflow-hidden border"},Rl=["src"],zl={class:"flex justify-end gap-3 pt-2"},Ul=["disabled"],ql={class:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},Ml={class:"p-6 border-b flex justify-between items-center"},$l={class:"text-xl font-semibold"},Sl={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ll={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},Al=["value"],Vl={class:"flex flex-col sm:flex-row gap-3"},Dl={class:"flex-1 cursor-pointer"},Bl={class:"flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-xl hover:border-emerald-500 transition-colors bg-gray-50"},El={class:"text-sm text-gray-500"},Pl=["disabled"],Tl={class:"flex flex-col sm:flex-row gap-3"},Nl={class:"flex-1 cursor-pointer"},Fl={class:"flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-xl hover:border-emerald-500 transition-colors bg-gray-50"},Il={class:"text-sm text-gray-500"},Hl=["disabled"],Gl=["src"],Ol={class:"flex items-center gap-3"},Jl={class:"flex justify-end gap-3 pt-2"},Yl=["disabled"],ta={__name:"AdminDashboard",setup(Xl){const Z=vt(),y=u("evenements"),R=u(!1),z=u(!1),O=u(null),ee=N(()=>{var o;return((o=O.value)==null?void 0:o.role)==="superadmin"}),te=u(!0),U=u(""),Be=(o,e=1200,d=.8)=>new Promise(s=>{if(!o.type.startsWith("image/")){s(o);return}if(o.size<500*1024){s(o);return}const r=new window.Image,_=document.createElement("canvas"),qe=_.getContext("2d"),P=URL.createObjectURL(o);r.onload=()=>{URL.revokeObjectURL(P);let C=r.width,T=r.height;C>e&&(T=Math.round(T*e/C),C=e),_.width=C,_.height=T,qe.drawImage(r,0,0,C,T),_.toBlob(fe=>{s(fe||o)},"image/jpeg",d)},r.onerror=()=>{URL.revokeObjectURL(P),s(o)},r.src=P}),se=async(o,e=!1)=>{if(!o)return null;z.value=!0;const d=(o.size/1024/1024).toFixed(1);U.value=`${d} MB`;let s=o,r=o.name.split(".").pop().toLowerCase(),_=o.type;if(o.type.startsWith("image/")&&!e){U.value=`Compression (${d} MB)...`,s=await Be(o),r="jpg",_="image/jpeg";const C=(s.size/1024/1024).toFixed(1);U.value=`Upload (${C} MB)...`}e&&(!_||!_.startsWith("audio/"))&&(r="ogg",_="audio/ogg");const P=`uploads/${`${Date.now()}-${Math.random().toString(36).substring(2)}.${r}`}`;try{const C=i.storage.from("images").upload(P,s,{contentType:_||void 0}),T=e?3e5:3e4,fe=e?"5 min":"30s",ct=new Promise((Ql,pt)=>setTimeout(()=>pt(new Error(`Upload trop long (> ${fe}). Vérifie ta connexion.`)),T)),{error:Me}=await Promise.race([C,ct]);if(z.value=!1,U.value="",Me)return alert("Erreur upload: "+Me.message),null;const{data:mt}=i.storage.from("images").getPublicUrl(P);return mt.publicUrl}catch(C){return z.value=!1,U.value="",alert(C.message||"Erreur upload"),null}},Ee=async o=>{const e=o.target.files[0];if(!e)return;const d=await se(e);d&&(x.value.image_url=d)},Pe=async o=>{const e=o.target.files[0];if(!e)return;const d=await se(e);d&&(m.value.image_url=d)},Te=async o=>{const e=o.target.files[0];if(!e)return;const d=await se(e,!0);d&&(m.value.audio_url=d)},oe=u([]),le=u(!0),V=u(!1),F=u(null),x=u({titre:"",description:"",categorie:"Religieux",date:"",heure:"",lieu:"Mosquée des Bienfaisants",participants_max:null,image_url:"",video_url:""}),ae=async()=>{le.value=!0;const{data:o}=await i.from("evenements").select("*").order("date",{ascending:!0});oe.value=o||[],le.value=!1},be=(o=null)=>{F.value=o,o?x.value={...o}:x.value={titre:"",description:"",categorie:"Religieux",date:"",heure:"",lieu:"Mosquée des Bienfaisants",participants_max:null,image_url:"",video_url:""},V.value=!0},Ne=async()=>{R.value=!0;const o={...x.value};if(o.image_url||delete o.image_url,o.video_url||delete o.video_url,o.participants_max||delete o.participants_max,o.date||(o.date=null),o.heure||(o.heure=null),F.value){const{id:e,created_at:d,...s}=o;await i.from("evenements").update(s).eq("id",F.value.id)}else delete o.id,delete o.created_at,await i.from("evenements").insert(o);R.value=!1,V.value=!1,ae()},Fe=async o=>{confirm("Supprimer cet événement ?")&&(await i.from("evenements").delete().eq("id",o),ae())},ne=u([]),re=u(!0),D=u(!1),I=u(null),Ie=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],m=u({titre:"",description:"",enseignant:"",jour:"",heure:"",lieu:"Mosquée des Bienfaisants",categorie:"",image_url:"",video_url:"",audio_url:"",actif:!0}),ie=async()=>{re.value=!0;const{data:o}=await i.from("cours_religieux").select("*").order("created_at",{ascending:!1});ne.value=o||[],re.value=!1},ye=(o=null)=>{I.value=o,o?m.value={...o}:m.value={titre:"",description:"",enseignant:"",jour:"",heure:"",lieu:"Mosquée des Bienfaisants",categorie:"",image_url:"",video_url:"",audio_url:"",actif:!0},D.value=!0},He=async()=>{R.value=!0;const o={...m.value};o.image_url||delete o.image_url,o.video_url||delete o.video_url,o.audio_url||delete o.audio_url,o.jour||delete o.jour,o.categorie||delete o.categorie,o.heure||delete o.heure;try{let e;if(I.value){const{id:d,created_at:s,...r}=o;e=await i.from("cours_religieux").update(r).eq("id",I.value.id)}else delete o.id,delete o.created_at,e=await i.from("cours_religieux").insert(o);if(e.error){alert("Erreur: "+e.error.message),R.value=!1;return}R.value=!1,D.value=!1,ie()}catch(e){alert("Erreur réseau: "+(e.message||"Vérifie ta connexion.")),R.value=!1}},Ge=async o=>{confirm("Supprimer ce cours ?")&&(await i.from("cours_religieux").delete().eq("id",o),ie())},J=u([]),Y=u(!0),de=N(()=>J.value.filter(o=>o.statut!=="accepté")),ue=N(()=>J.value.filter(o=>o.statut==="accepté")),X=async()=>{Y.value=!0;const{data:o}=await i.from("benevoles").select("*").order("created_at",{ascending:!1});J.value=o||[],Y.value=!1},he=async(o,e)=>{await i.from("benevoles").update({statut:e}).eq("id",o),X()},_e=async o=>{confirm("Supprimer cette candidature ?")&&(await i.from("benevoles").delete().eq("id",o),X())},ce=u([]),we=u([]),Q=u([]),ke=u([]),h=u(null),H=u(""),$=u({nom:"",quantite:""}),Ce=[],Oe=new Date(2026,1,18);for(let o=0;o<30;o++){const e=new Date(Oe);e.setDate(e.getDate()+o),Ce.push(e)}const S=o=>{const e=o.getFullYear(),d=String(o.getMonth()+1).padStart(2,"0"),s=String(o.getDate()).padStart(2,"0");return`${e}-${d}-${s}`},Je=o=>o.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"}),Ye=N(()=>Q.value.filter(o=>!o.en_stock).length),q=async()=>{const[o,e,d,s]=await Promise.all([i.from("ramadan_presences").select("*"),i.from("ramadan_taches").select("*"),i.from("ramadan_produits").select("*").order("created_at"),i.from("ramadan_notes").select("*").order("created_at")]);ce.value=o.data||[],we.value=e.data||[],Q.value=d.data||[],ke.value=s.data||[]},me=o=>ce.value.filter(e=>e.jour===S(o)).length,W=o=>ce.value.filter(e=>e.jour===S(o)),je=o=>we.value.filter(e=>e.jour===S(o)),K=o=>{const e=J.value.find(d=>d.id===o);return e?`${e.prenom} ${e.nom}`:"Inconnu"},Xe=async()=>{!h.value||!H.value||(await i.from("ramadan_taches").insert({jour:S(h.value),nom:H.value}),H.value="",q())},Qe=async(o,e)=>{await i.from("ramadan_taches").update({benevole_id:e||null}).eq("id",o),q()},We=async o=>{await i.from("ramadan_taches").delete().eq("id",o),q()},Re=o=>ke.value.filter(e=>e.jour===S(o)),Ke=async o=>{await i.from("ramadan_notes").delete().eq("id",o),q()},Ze=async()=>{await i.from("ramadan_produits").insert({nom:$.value.nom,quantite:$.value.quantite||null}),$.value={nom:"",quantite:""},q()},et=async o=>{await i.from("ramadan_produits").update({en_stock:!o.en_stock}).eq("id",o.id),q()},tt=async o=>{confirm("Supprimer ce produit ?")&&(await i.from("ramadan_produits").delete().eq("id",o),q())},B=u([]),pe=u(!1),xe=N(()=>B.value.filter(o=>!o.lu).length),st=async()=>{const{data:o}=await i.from("notifications").select("*").order("created_at",{ascending:!1}).limit(30);B.value=o||[]},ot=async o=>{o.lu=!0,await i.from("notifications").update({lu:!0}).eq("id",o.id)},lt=async()=>{B.value.forEach(o=>o.lu=!0),await i.from("notifications").update({lu:!0}).eq("lu",!1)},at=o=>{if(!o)return"";const e=new Date(o);return e.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})+" à "+e.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})},E=u([]),ve=u(!1),G=u(""),nt=async()=>{ve.value=!0;try{const{data:o}=await i.from("benevoles").select("*").order("prenom");E.value=o||[]}catch{E.value=[]}ve.value=!1},ze=N(()=>{if(!G.value.trim())return E.value;const o=G.value.trim().toLowerCase();return E.value.filter(e=>e.prenom.toLowerCase().includes(o)||e.nom.toLowerCase().includes(o))}),rt=async(o,e)=>{o.role=e,await i.from("benevoles").update({role:e}).eq("id",o.id)},it=async o=>{confirm("Supprimer ce bénévole définitivement ?")&&(await i.from("benevoles").delete().eq("id",o),E.value=E.value.filter(e=>e.id!==o),X())},dt=async o=>{const e=o.disponible===!1;o.disponible=e;const d={disponible:e};e&&(d.dispo_debut=null,d.dispo_fin=null,o.dispo_debut=null,o.dispo_fin=null),await i.from("benevoles").update(d).eq("id",o.id)},Ue=async(o,e,d)=>{o[e]=d||null,await i.from("benevoles").update({[e]:d||null}).eq("id",o.id)},ut=async()=>{try{await i.auth.signOut()}catch(o){console.error("Erreur déconnexion:",o)}Z.push("/admin")};return xt(async()=>{try{const{data:{session:o}}=await i.auth.getSession();if(!o){Z.push("/admin");return}const e=o.user.email,{data:d,error:s}=await i.from("benevoles").select("*").eq("email",e).eq("statut","accepté");s&&console.error("Erreur chargement benevoles:",s);const r=(d||[]).find(_=>["admin","superadmin"].includes(_.role));if(r)O.value=r;else{Z.push("/");return}te.value=!1,ae(),ie(),X(),st()}catch(o){console.error("Erreur admin mount:",o),te.value=!1}}),(o,e)=>{const d=bt("router-link");return l(),a("div",St,[t("div",Lt,[t("div",At,[t("div",Vt,[p(c(ft),{size:24,class:"text-emerald-400"}),e[39]||(e[39]=t("h1",{class:"text-lg sm:text-xl font-semibold"},"Administration",-1))]),t("div",Dt,[t("div",Bt,[t("button",{onClick:e[0]||(e[0]=s=>pe.value=!pe.value),class:"text-gray-400 hover:text-white transition-colors relative p-1"},[p(c(Ut),{size:18}),xe.value>0?(l(),a("span",Et,n(xe.value>9?"9+":xe.value),1)):f("",!0)]),pe.value?(l(),a("div",Pt,[t("div",Tt,[e[40]||(e[40]=t("h4",{class:"font-semibold text-gray-800 text-sm"},"Notifications",-1)),B.value.length>0?(l(),a("button",{key:0,onClick:lt,class:"text-xs text-emerald-600 hover:underline"}," Tout marquer lu ")):f("",!0)]),t("div",Nt,[B.value.length===0?(l(),a("div",Ft," Aucune notification. ")):f("",!0),(l(!0),a(w,null,k(B.value,s=>{var r;return l(),a("div",{key:s.id,class:b(["px-4 py-3 border-b last:border-b-0 hover:bg-gray-50 transition-colors",s.lu?"":"bg-emerald-50/40"])},[t("div",It,[t("div",{class:b(["w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",s.type==="disponibilite"?"bg-amber-100":"bg-blue-100"])},[(r=s.message)!=null&&r.includes("indisponible")?(l(),Se(c(Ct),{key:0,size:14,class:"text-red-600"})):(l(),Se(c(jt),{key:1,size:14,class:"text-emerald-600"}))],2),t("div",Ht,[t("p",Gt,n(s.message),1),t("p",Ot,n(at(s.created_at)),1)]),s.lu?f("",!0):(l(),a("button",{key:0,onClick:L(_=>ot(s),["stop"]),class:"text-[10px] text-emerald-600 hover:underline flex-shrink-0 mt-1"}," Lu ",8,Jt))])],2)}),128))])])):f("",!0)]),p(d,{to:"/",class:"text-gray-400 hover:text-white transition-colors text-xs sm:text-sm"},{default:gt(()=>[...e[41]||(e[41]=[j(" Voir le site ",-1)])]),_:1}),t("button",{onClick:ut,class:"text-gray-400 hover:text-white transition-colors flex items-center gap-1 sm:gap-2 text-xs sm:text-sm"},[p(c(yt),{size:16}),e[42]||(e[42]=t("span",{class:"hidden sm:inline"},"Déconnexion",-1))])])])]),te.value?(l(),a("div",Yt,[...e[43]||(e[43]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-300 border-t-emerald-600"},null,-1)])])):(l(),a("div",Xt,[t("div",Qt,[t("div",Wt,[t("button",{onClick:e[1]||(e[1]=s=>y.value="evenements"),class:b([y.value==="evenements"?"border-emerald-600 text-emerald-700":"border-transparent text-gray-500 hover:text-gray-700","flex-1 sm:flex-none px-4 sm:px-6 py-4 border-b-2 font-medium transition-colors flex items-center justify-center gap-2 text-sm sm:text-base whitespace-nowrap"])},[p(c(ht),{size:18}),e[44]||(e[44]=j(" Événements ",-1))],2),t("button",{onClick:e[2]||(e[2]=s=>y.value="cours"),class:b([y.value==="cours"?"border-emerald-600 text-emerald-700":"border-transparent text-gray-500 hover:text-gray-700","flex-1 sm:flex-none px-4 sm:px-6 py-4 border-b-2 font-medium transition-colors flex items-center justify-center gap-2 text-sm sm:text-base whitespace-nowrap"])},[p(c(Le),{size:18}),e[45]||(e[45]=j(" Cours ",-1))],2),ee.value?(l(),a("button",{key:0,onClick:e[3]||(e[3]=s=>y.value="benevoles"),class:b([y.value==="benevoles"?"border-emerald-600 text-emerald-700":"border-transparent text-gray-500 hover:text-gray-700","flex-1 sm:flex-none px-4 sm:px-6 py-4 border-b-2 font-medium transition-colors flex items-center justify-center gap-2 text-sm sm:text-base whitespace-nowrap"])},[p(c(_t),{size:18}),e[46]||(e[46]=j(" Bénévoles ",-1))],2)):f("",!0),t("button",{onClick:e[4]||(e[4]=s=>{y.value="ramadan",q()}),class:b([y.value==="ramadan"?"border-emerald-600 text-emerald-700":"border-transparent text-gray-500 hover:text-gray-700","flex-1 sm:flex-none px-4 sm:px-6 py-4 border-b-2 font-medium transition-colors flex items-center justify-center gap-2 text-sm sm:text-base whitespace-nowrap"])},[p(c(Mt),{size:18}),e[47]||(e[47]=j(" Ramadan ",-1))],2),ee.value?(l(),a("button",{key:1,onClick:e[5]||(e[5]=s=>{y.value="gestion",nt()}),class:b([y.value==="gestion"?"border-emerald-600 text-emerald-700":"border-transparent text-gray-500 hover:text-gray-700","flex-1 sm:flex-none px-4 sm:px-6 py-4 border-b-2 font-medium transition-colors flex items-center justify-center gap-2 text-sm sm:text-base whitespace-nowrap"])},[p(c(qt),{size:18}),e[48]||(e[48]=j(" Gestion ",-1))],2)):f("",!0)])]),t("div",Kt,[y.value==="evenements"?(l(),a("div",Zt,[t("div",es,[e[50]||(e[50]=t("h2",{class:"text-xl sm:text-2xl font-semibold text-gray-800"},"Gestion des Événements",-1)),t("button",{onClick:e[6]||(e[6]=s=>be()),class:"bg-emerald-600 text-white px-4 sm:px-5 py-2.5 rounded-xl hover:bg-emerald-700 transition-colors flex items-center gap-2 text-sm sm:text-base"},[p(c(Ae),{size:18}),e[49]||(e[49]=j(" Ajouter ",-1))])]),le.value?(l(),a("div",ts,[...e[51]||(e[51]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-300 border-t-emerald-600"},null,-1)])])):oe.value.length===0?(l(),a("div",ss,' Aucun événement. Cliquez sur "Ajouter" pour en créer un. ')):(l(),a("div",os,[(l(!0),a(w,null,k(oe.value,s=>(l(),a("div",{key:s.id,class:"bg-white rounded-xl border p-4 sm:p-5 flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-5"},[t("img",{src:s.image_url||"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?q=80&w=200",class:"w-full sm:w-20 h-40 sm:h-20 rounded-lg object-cover flex-shrink-0"},null,8,ls),t("div",as,[t("h3",ns,n(s.titre),1),t("p",rs,n(s.description),1),t("div",is,[t("span",null,n(s.date),1),t("span",null,n(s.heure),1),t("span",ds,n(s.categorie),1)])]),t("div",us,[t("button",{onClick:r=>be(s),class:"p-2 text-gray-400 hover:text-emerald-600 transition-colors"},[p(c(Ve),{size:18})],8,cs),t("button",{onClick:r=>Fe(s.id),class:"p-2 text-gray-400 hover:text-red-600 transition-colors"},[p(c(M),{size:18})],8,ms)])]))),128))]))])):f("",!0),y.value==="cours"?(l(),a("div",ps,[t("div",xs,[e[53]||(e[53]=t("h2",{class:"text-xl sm:text-2xl font-semibold text-gray-800"},"Gestion des Cours Religieux",-1)),t("button",{onClick:e[7]||(e[7]=s=>ye()),class:"bg-emerald-600 text-white px-4 sm:px-5 py-2.5 rounded-xl hover:bg-emerald-700 transition-colors flex items-center gap-2 text-sm sm:text-base"},[p(c(Ae),{size:18}),e[52]||(e[52]=j(" Ajouter ",-1))])]),re.value?(l(),a("div",vs,[...e[54]||(e[54]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-300 border-t-emerald-600"},null,-1)])])):ne.value.length===0?(l(),a("div",fs,' Aucun cours. Cliquez sur "Ajouter" pour en créer un. ')):(l(),a("div",gs,[(l(!0),a(w,null,k(ne.value,s=>(l(),a("div",{key:s.id,class:"bg-white rounded-xl border p-4 sm:p-5 flex flex-col sm:flex-row sm:items-center gap-4 sm:gap-5"},[t("div",bs,[p(c(Le),{size:28,class:"text-emerald-600"})]),t("div",ys,[t("div",hs,[t("h3",_s,n(s.titre),1),t("span",{class:b([s.actif?"bg-green-100 text-green-700":"bg-red-100 text-red-700","text-xs px-2 py-0.5 rounded"])},n(s.actif?"Actif":"Inactif"),3)]),t("p",ws,n(s.description),1),t("div",ks,[s.jour?(l(),a("span",Cs,n(s.jour),1)):f("",!0),s.heure?(l(),a("span",js,n(s.heure),1)):f("",!0),s.categorie?(l(),a("span",Rs,n(s.categorie),1)):f("",!0)])]),t("div",zs,[t("button",{onClick:r=>ye(s),class:"p-2 text-gray-400 hover:text-emerald-600 transition-colors"},[p(c(Ve),{size:18})],8,Us),t("button",{onClick:r=>Ge(s.id),class:"p-2 text-gray-400 hover:text-red-600 transition-colors"},[p(c(M),{size:18})],8,qs)])]))),128))]))])):f("",!0),y.value==="benevoles"?(l(),a("div",Ms,[t("div",$s,[t("div",Ss,[t("div",Ls,[e[55]||(e[55]=t("h2",{class:"text-xl sm:text-2xl font-semibold text-gray-800"},"Demandes",-1)),t("span",As,n(de.value.length)+" demande(s)",1)]),Y.value?(l(),a("div",Vs,[...e[56]||(e[56]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-300 border-t-emerald-600"},null,-1)])])):de.value.length===0?(l(),a("div",Ds," Aucune demande pour le moment. ")):(l(),a("div",Bs,[(l(!0),a(w,null,k(de.value,s=>(l(),a("div",{key:s.id,class:"bg-white rounded-xl border p-4 sm:p-5"},[t("div",Es,[t("div",Ps,[t("div",Ts,[t("h3",Ns,n(s.prenom)+" "+n(s.nom),1),t("span",{class:b([{"bg-blue-100 text-blue-700":s.statut==="nouveau","bg-yellow-100 text-yellow-700":s.statut==="contacté","bg-red-100 text-red-700":s.statut==="refusé"},"text-xs px-2 py-0.5 rounded font-medium"])},n(s.statut),3)]),t("div",Fs,[t("p",null,[e[57]||(e[57]=t("strong",null,"Email :",-1)),e[58]||(e[58]=j()),t("a",{href:"mailto:"+s.email,class:"text-emerald-600 hover:underline"},n(s.email),9,Is)]),t("p",null,[e[59]||(e[59]=t("strong",null,"Téléphone :",-1)),e[60]||(e[60]=j()),t("a",{href:"tel:"+s.telephone,class:"text-emerald-600 hover:underline"},n(s.telephone),9,Hs)]),t("p",null,[e[61]||(e[61]=t("strong",null,"Domaine :",-1)),e[62]||(e[62]=j()),t("span",Gs,n(s.domaine),1)]),s.message?(l(),a("p",Os,'"'+n(s.message)+'"',1)):f("",!0),t("p",Js,"Reçu le "+n(new Date(s.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})),1)])]),t("div",Ys,[t("select",{value:s.statut,onChange:r=>he(s.id,r.target.value),class:"text-xs border rounded-lg px-3 py-1.5 focus:outline-none focus:border-emerald-600"},[...e[63]||(e[63]=[t("option",{value:"nouveau"},"Nouveau",-1),t("option",{value:"contacté"},"Contacté",-1),t("option",{value:"accepté"},"Accepté",-1),t("option",{value:"refusé"},"Refusé",-1)])],40,Xs),t("button",{onClick:r=>_e(s.id),class:"p-2 text-gray-400 hover:text-red-600 transition-colors"},[p(c(M),{size:18})],8,Qs)])])]))),128))]))]),t("div",null,[t("div",Ws,[e[64]||(e[64]=t("h2",{class:"text-xl sm:text-2xl font-semibold text-gray-800"},"Nos bénévoles",-1)),t("span",Ks,n(ue.value.length),1)]),Y.value?(l(),a("div",Zs,[...e[65]||(e[65]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-300 border-t-emerald-600"},null,-1)])])):ue.value.length===0?(l(),a("div",eo," Aucun bénévole accepté pour le moment. ")):(l(),a("div",to,[(l(!0),a(w,null,k(ue.value,s=>(l(),a("div",{key:s.id,class:"bg-white rounded-xl border p-4 flex items-center gap-3"},[t("div",so,[p(c(Rt),{size:18,class:"text-emerald-600"})]),t("div",oo,[t("h3",lo,n(s.prenom)+" "+n(s.nom),1),t("p",ao,n(s.domaine),1),t("p",no,n(s.email),1)]),t("div",ro,[t("select",{value:s.statut,onChange:r=>he(s.id,r.target.value),class:"text-xs border rounded-lg px-2 py-1 focus:outline-none focus:border-emerald-600"},[...e[66]||(e[66]=[t("option",{value:"nouveau"},"Nouveau",-1),t("option",{value:"contacté"},"Contacté",-1),t("option",{value:"accepté"},"Accepté",-1),t("option",{value:"refusé"},"Refusé",-1)])],40,io),t("button",{onClick:r=>_e(s.id),class:"p-1.5 text-gray-400 hover:text-red-600 transition-colors"},[p(c(M),{size:16})],8,uo)])]))),128))]))])])])):f("",!0),y.value==="ramadan"?(l(),a("div",co,[t("div",mo,[t("div",po,[e[71]||(e[71]=t("h2",{class:"text-xl sm:text-2xl font-semibold text-gray-800 mb-2"},"Planning Ramadan 2026",-1)),e[72]||(e[72]=t("p",{class:"text-sm text-gray-500 mb-6"},"18 février - 19 mars | Cliquez sur un jour pour voir les détails",-1)),t("div",xo,[(l(),a(w,null,k(Ce,(s,r)=>t("button",{key:r,onClick:_=>h.value=s,class:b([[h.value&&S(h.value)===S(s)?"ring-2 ring-emerald-600 shadow-md":"",me(s)===0?"bg-red-50 text-red-700 border-red-200":me(s)<3?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-emerald-50 text-emerald-700 border-emerald-200"],"rounded-xl p-2 text-center transition-all hover:shadow border"])},[t("span",fo,"J"+n(r+1),1),t("span",go,n(s.getDate()),1),t("span",bo,n(me(s))+" ben.",1)],10,vo)),64))]),h.value?(l(),a("div",yo,[t("h3",ho,n(Je(h.value)),1),t("div",_o,[t("h4",wo," Bénévoles présents ("+n(W(h.value).length)+") ",1),W(h.value).length===0?(l(),a("div",ko," Aucun bénévole inscrit pour ce jour. ")):(l(),a("div",Co,[(l(!0),a(w,null,k(W(h.value),s=>(l(),a("span",{key:s.id,class:"text-xs bg-emerald-50 text-emerald-700 px-3 py-1.5 rounded-lg font-medium"},n(K(s.benevole_id)),1))),128))]))]),t("div",jo,[e[69]||(e[69]=t("h4",{class:"text-sm font-medium text-gray-600 mb-3"},"Tâches",-1)),je(h.value).length===0?(l(),a("div",Ro," Aucune tâche pour ce jour. ")):(l(),a("div",zo,[(l(!0),a(w,null,k(je(h.value),s=>(l(),a("div",{key:s.id,class:"flex items-center gap-2 bg-gray-50 rounded-lg p-2"},[t("span",{class:b([s.fait?"bg-emerald-100 text-emerald-600":"bg-gray-200 text-gray-400","w-6 h-6 rounded flex items-center justify-center flex-shrink-0 text-xs font-bold"])},n(s.fait?"✓":""),3),t("span",{class:b(["text-sm flex-1 font-medium",s.fait?"line-through text-gray-400":"text-gray-700"])},n(s.nom),3),K(s.benevole_id)!=="Inconnu"?(l(),a("span",Uo,n(K(s.benevole_id)),1)):f("",!0),t("select",{value:s.benevole_id||"",onChange:r=>Qe(s.id,r.target.value),class:"text-xs border rounded-lg px-2 py-1 focus:outline-none focus:border-emerald-600 max-w-[140px]"},[e[67]||(e[67]=t("option",{value:""},"Non assignée",-1)),(l(!0),a(w,null,k(W(h.value),r=>(l(),a("option",{key:r.benevole_id,value:r.benevole_id},n(K(r.benevole_id)),9,Mo))),128))],40,qo),t("button",{onClick:r=>We(s.id),class:"p-1 text-gray-400 hover:text-red-600 transition-colors"},[p(c(M),{size:14})],8,$o)]))),128))])),t("form",{onSubmit:L(Xe,["prevent"]),class:"flex gap-2"},[v(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>H.value=s),required:"",placeholder:"Nouvelle tâche (ex: Cuisson riz, Service...)",class:"flex-1 px-3 py-2 border rounded-xl focus:outline-none focus:border-emerald-600 text-sm"},null,512),[[g,H.value]]),e[68]||(e[68]=t("button",{type:"submit",class:"bg-emerald-600 text-white px-4 py-2 rounded-xl hover:bg-emerald-700 text-sm font-medium"}," Ajouter ",-1))],32)]),t("div",null,[e[70]||(e[70]=t("h4",{class:"text-sm font-medium text-gray-600 mb-3"},"Notes partagées",-1)),Re(h.value).length===0?(l(),a("div",So," Aucune note pour ce jour. ")):(l(),a("div",Lo,[(l(!0),a(w,null,k(Re(h.value),s=>(l(),a("div",{key:s.id,class:"flex items-start gap-2 bg-yellow-50/50 rounded-lg px-3 py-2"},[t("div",Ao,[t("p",Vo,n(s.contenu),1),t("p",Do,n(s.auteur_nom),1)]),t("button",{onClick:r=>Ke(s.id),class:"p-1 text-gray-400 hover:text-red-600 transition-colors flex-shrink-0"},[p(c(M),{size:14})],8,Bo)]))),128))]))])])):(l(),a("div",Eo," Sélectionnez un jour pour voir les détails et gérer les tâches. "))]),t("div",null,[t("div",Po,[e[73]||(e[73]=t("h2",{class:"text-xl font-semibold text-gray-800"},"Courses",-1)),t("span",To,n(Ye.value)+" manquant(s) ",1)]),t("form",{onSubmit:L(Ze,["prevent"]),class:"bg-white rounded-xl border p-3 mb-4"},[t("div",No,[v(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>$.value.nom=s),required:"",placeholder:"Produit",class:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:border-emerald-600 text-sm"},null,512),[[g,$.value.nom]]),v(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>$.value.quantite=s),placeholder:"Qté",class:"w-20 px-3 py-2 border rounded-lg focus:outline-none focus:border-emerald-600 text-sm"},null,512),[[g,$.value.quantite]]),e[74]||(e[74]=t("button",{type:"submit",class:"bg-emerald-600 text-white px-3 py-2 rounded-lg text-sm font-bold"},"+",-1))])],32),Q.value.length===0?(l(),a("div",Fo," Aucun produit ajouté. ")):(l(),a("div",Io,[(l(!0),a(w,null,k(Q.value,s=>(l(),a("div",{key:s.id,class:"bg-white rounded-xl border p-3 flex items-center gap-2"},[t("button",{onClick:r=>et(s),class:b([s.en_stock?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600","w-7 h-7 rounded-lg flex items-center justify-center text-xs font-bold flex-shrink-0 transition-colors"])},n(s.en_stock?"✓":"✗"),11,Ho),t("div",Go,[t("p",{class:b(["text-sm font-medium",s.en_stock?"line-through text-gray-400":"text-gray-800"])},n(s.nom),3),t("p",Oo,n(s.quantite||"")+" "+n(s.responsable_nom?"· "+s.responsable_nom:""),1)]),t("button",{onClick:r=>tt(s.id),class:"p-1 text-gray-400 hover:text-red-600 transition-colors"},[p(c(M),{size:14})],8,Jo)]))),128))]))])])])):f("",!0)]),y.value==="gestion"&&ee.value?(l(),a("div",Yo,[e[79]||(e[79]=t("h2",{class:"text-xl sm:text-2xl font-semibold text-gray-800 mb-2"},"Gestion des bénévoles",-1)),e[80]||(e[80]=t("p",{class:"text-sm text-gray-500 mb-6"},"Gérez les rôles, la disponibilité et supprimez des bénévoles.",-1)),t("div",Xo,[p(c(zt),{size:18,class:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),v(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>G.value=s),type:"text",placeholder:"Rechercher par nom ou prénom...",class:"w-full pl-11 pr-4 py-3 border rounded-xl focus:outline-none focus:border-emerald-600 text-sm"},null,512),[[g,G.value]])]),ve.value?(l(),a("div",Qo,[...e[75]||(e[75]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-300 border-t-emerald-600"},null,-1)])])):ze.value.length===0?(l(),a("div",Wo,n(G.value?"Aucun résultat pour cette recherche.":"Aucun bénévole trouvé."),1)):(l(),a("div",Ko,[(l(!0),a(w,null,k(ze.value,s=>(l(),a("div",{key:s.id,class:"bg-white rounded-xl border p-4 space-y-3"},[t("div",Zo,[t("div",el,[t("div",{class:b(["w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold",s.role==="superadmin"?"bg-amber-100 text-amber-700":s.role==="admin"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-500"])},n(s.prenom[0])+n(s.nom[0]),3),t("div",tl,[t("p",sl,n(s.prenom)+" "+n(s.nom),1),t("p",ol,n(s.email),1)])]),t("div",ll,[t("span",{class:b([{"bg-amber-100 text-amber-700":s.role==="superadmin","bg-purple-100 text-purple-700":s.role==="admin","bg-gray-100 text-gray-500":!s.role||s.role==="benevole"},"text-xs px-2.5 py-1 rounded-lg font-medium"])},n(s.role==="superadmin"?"Super Admin":s.role==="admin"?"Admin":"Bénévole"),3),s.id!==O.value.id?(l(),a("select",{key:0,value:s.role||"benevole",onChange:r=>rt(s,r.target.value),class:"text-xs border rounded-lg px-3 py-1.5 focus:outline-none focus:border-emerald-600"},[...e[76]||(e[76]=[t("option",{value:"benevole"},"Bénévole",-1),t("option",{value:"admin"},"Admin",-1)])],40,al)):(l(),a("span",nl,"C'est vous")),s.id!==O.value.id?(l(),a("button",{key:2,onClick:r=>it(s.id),class:"p-1.5 text-gray-400 hover:text-red-600 transition-colors"},[p(c(M),{size:16})],8,rl)):f("",!0)])]),t("div",il,[t("label",dl,[t("input",{type:"checkbox",checked:s.disponible!==!1,onChange:r=>dt(s),class:"w-4 h-4 accent-emerald-600"},null,40,ul),t("span",{class:b(s.disponible!==!1?"text-emerald-600 font-medium":"text-red-500 font-medium")},n(s.disponible!==!1?"Disponible":"Indisponible"),3)]),s.disponible===!1?(l(),a("div",cl,[e[77]||(e[77]=t("span",{class:"text-xs text-gray-500"},"Du",-1)),t("input",{type:"date",value:s.dispo_debut||"",onChange:r=>Ue(s,"dispo_debut",r.target.value),class:"text-xs border rounded-lg px-2 py-1 focus:outline-none focus:border-emerald-600"},null,40,ml),e[78]||(e[78]=t("span",{class:"text-xs text-gray-500"},"au",-1)),t("input",{type:"date",value:s.dispo_fin||"",onChange:r=>Ue(s,"dispo_fin",r.target.value),class:"text-xs border rounded-lg px-2 py-1 focus:outline-none focus:border-emerald-600"},null,40,pl)])):f("",!0)])]))),128))]))])):f("",!0)])),V.value?(l(),a("div",{key:2,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e[24]||(e[24]=L(s=>V.value=!1,["self"]))},[t("div",xl,[t("div",vl,[t("h3",fl,n(F.value?"Modifier":"Ajouter")+" un événement",1),t("button",{onClick:e[12]||(e[12]=s=>V.value=!1),class:"text-gray-400 hover:text-gray-600"},[p(c($e),{size:24})])]),t("form",{onSubmit:L(Ne,["prevent"]),class:"p-6 space-y-5"},[t("div",null,[e[81]||(e[81]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Titre *",-1)),v(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>x.value.titre=s),required:"",class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},null,512),[[g,x.value.titre]])]),t("div",null,[e[82]||(e[82]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),v(t("textarea",{"onUpdate:modelValue":e[14]||(e[14]=s=>x.value.description=s),rows:"3",class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},null,512),[[g,x.value.description]])]),t("div",gl,[t("div",null,[e[84]||(e[84]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Catégorie",-1)),v(t("select",{"onUpdate:modelValue":e[15]||(e[15]=s=>x.value.categorie=s),class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},[...e[83]||(e[83]=[t("option",{value:"Religieux"},"Religieux",-1),t("option",{value:"Éducation"},"Éducation",-1),t("option",{value:"Social"},"Social",-1),t("option",{value:"Culturel"},"Culturel",-1)])],512),[[ge,x.value.categorie]])]),t("div",null,[e[85]||(e[85]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lieu *",-1)),v(t("input",{"onUpdate:modelValue":e[16]||(e[16]=s=>x.value.lieu=s),required:"",class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},null,512),[[g,x.value.lieu]])])]),t("div",bl,[t("div",null,[e[86]||(e[86]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date *",-1)),v(t("input",{"onUpdate:modelValue":e[17]||(e[17]=s=>x.value.date=s),type:"date",class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},null,512),[[g,x.value.date]])]),t("div",null,[e[87]||(e[87]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Heure *",-1)),v(t("input",{"onUpdate:modelValue":e[18]||(e[18]=s=>x.value.heure=s),type:"time",class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},null,512),[[g,x.value.heure]])])]),t("div",yl,[t("div",null,[e[88]||(e[88]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Participants max",-1)),v(t("input",{"onUpdate:modelValue":e[19]||(e[19]=s=>x.value.participants_max=s),type:"number",class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},null,512),[[g,x.value.participants_max,void 0,{number:!0}]])])]),t("div",null,[e[90]||(e[90]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Image",-1)),t("div",hl,[t("label",_l,[t("div",wl,[p(c(De),{size:18,class:"text-gray-400"}),t("span",kl,n(z.value?U.value||"Upload...":"Choisir un fichier"),1)]),t("input",{type:"file",accept:"image/*",class:"hidden",onChange:Ee,disabled:z.value},null,40,Cl)]),e[89]||(e[89]=t("span",{class:"hidden sm:flex items-center text-xs text-gray-400"},"ou",-1)),v(t("input",{"onUpdate:modelValue":e[20]||(e[20]=s=>x.value.image_url=s),type:"text",placeholder:"Coller une URL...",class:"flex-1 px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600 text-sm"},null,512),[[g,x.value.image_url]])])]),t("div",null,[e[91]||(e[91]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"URL vidéo YouTube",-1)),v(t("input",{"onUpdate:modelValue":e[21]||(e[21]=s=>x.value.video_url=s),type:"url",placeholder:"https://youtube.com/watch?v=...",class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},null,512),[[g,x.value.video_url]])]),x.value.image_url?(l(),a("div",jl,[t("img",{src:x.value.image_url,class:"w-full h-48 object-cover",onError:e[22]||(e[22]=s=>x.value.image_url="")},null,40,Rl)])):f("",!0),t("div",zl,[t("button",{type:"button",onClick:e[23]||(e[23]=s=>V.value=!1),class:"px-5 py-2.5 border rounded-xl hover:bg-gray-50 transition-colors"}," Annuler "),t("button",{type:"submit",disabled:R.value,class:"px-5 py-2.5 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors disabled:opacity-50"},n(R.value?"Enregistrement...":F.value?"Modifier":"Ajouter"),9,Ul)])],32)])])):f("",!0),D.value?(l(),a("div",{key:3,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e[38]||(e[38]=L(s=>D.value=!1,["self"]))},[t("div",ql,[t("div",Ml,[t("h3",$l,n(I.value?"Modifier":"Ajouter")+" un cours",1),t("button",{onClick:e[25]||(e[25]=s=>D.value=!1),class:"text-gray-400 hover:text-gray-600"},[p(c($e),{size:24})])]),t("form",{onSubmit:L(He,["prevent"]),class:"p-6 space-y-5"},[t("div",null,[e[92]||(e[92]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Titre *",-1)),v(t("input",{"onUpdate:modelValue":e[26]||(e[26]=s=>m.value.titre=s),required:"",class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},null,512),[[g,m.value.titre]])]),t("div",null,[e[93]||(e[93]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),v(t("textarea",{"onUpdate:modelValue":e[27]||(e[27]=s=>m.value.description=s),rows:"3",class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},null,512),[[g,m.value.description]])]),t("div",Sl,[t("div",null,[e[94]||(e[94]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Enseignant",-1)),v(t("input",{"onUpdate:modelValue":e[28]||(e[28]=s=>m.value.enseignant=s),class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},null,512),[[g,m.value.enseignant]])]),t("div",null,[e[95]||(e[95]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Lieu",-1)),v(t("input",{"onUpdate:modelValue":e[29]||(e[29]=s=>m.value.lieu=s),class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},null,512),[[g,m.value.lieu]])])]),t("div",Ll,[t("div",null,[e[97]||(e[97]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Jour",-1)),v(t("select",{"onUpdate:modelValue":e[30]||(e[30]=s=>m.value.jour=s),class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},[e[96]||(e[96]=t("option",{value:""},"--",-1)),(l(),a(w,null,k(Ie,s=>t("option",{key:s,value:s},n(s),9,Al)),64))],512),[[ge,m.value.jour]])]),t("div",null,[e[98]||(e[98]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Heure",-1)),v(t("input",{"onUpdate:modelValue":e[31]||(e[31]=s=>m.value.heure=s),type:"time",class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},null,512),[[g,m.value.heure]])]),t("div",null,[e[100]||(e[100]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Catégorie",-1)),v(t("select",{"onUpdate:modelValue":e[32]||(e[32]=s=>m.value.categorie=s),class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},[...e[99]||(e[99]=[wt('<option value="">--</option><option value="Tajwid">Tajwid</option><option value="Croyance">Croyance</option><option value="Jurisprudence">Jurisprudence</option><option value="Langue arabe">Langue arabe</option><option value="Coran">Coran</option><option value="Hadith">Hadith</option><option value="Sira">Sira</option><option value="Éducation islamique">Éducation islamique</option>',9)])],512),[[ge,m.value.categorie]])])]),t("div",null,[e[102]||(e[102]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Image",-1)),t("div",Vl,[t("label",Dl,[t("div",Bl,[p(c(De),{size:18,class:"text-gray-400"}),t("span",El,n(z.value?U.value||"Upload...":"Choisir un fichier"),1)]),t("input",{type:"file",accept:"image/*",class:"hidden",onChange:Pe,disabled:z.value},null,40,Pl)]),e[101]||(e[101]=t("span",{class:"hidden sm:flex items-center text-xs text-gray-400"},"ou",-1)),v(t("input",{"onUpdate:modelValue":e[33]||(e[33]=s=>m.value.image_url=s),type:"text",placeholder:"Coller une URL...",class:"flex-1 px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600 text-sm"},null,512),[[g,m.value.image_url]])])]),t("div",null,[e[103]||(e[103]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"URL vidéo YouTube",-1)),v(t("input",{"onUpdate:modelValue":e[34]||(e[34]=s=>m.value.video_url=s),type:"url",placeholder:"https://youtube.com/watch?v=...",class:"w-full px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600"},null,512),[[g,m.value.video_url]])]),t("div",null,[e[105]||(e[105]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Audio (cours audio, récitation, etc.)",-1)),t("div",Tl,[t("label",Nl,[t("div",Fl,[p(c($t),{size:18,class:"text-gray-400"}),t("span",Il,n(z.value?U.value||"Upload...":"Choisir un audio"),1)]),t("input",{type:"file",accept:"audio/*,image/*,.opus,.ogg,.m4a,.amr,.wav,.mp3,.aac,.wma",class:"hidden",onChange:Te,disabled:z.value},null,40,Hl)]),e[104]||(e[104]=t("span",{class:"hidden sm:flex items-center text-xs text-gray-400"},"ou",-1)),v(t("input",{"onUpdate:modelValue":e[35]||(e[35]=s=>m.value.audio_url=s),type:"text",placeholder:"Coller une URL audio...",class:"flex-1 px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600 text-sm"},null,512),[[g,m.value.audio_url]])]),m.value.audio_url?(l(),a("audio",{key:0,src:m.value.audio_url,controls:"",class:"w-full mt-2 rounded-lg"},null,8,Gl)):f("",!0)]),t("div",Ol,[v(t("input",{"onUpdate:modelValue":e[36]||(e[36]=s=>m.value.actif=s),type:"checkbox",id:"actif",class:"w-4 h-4 accent-emerald-600"},null,512),[[kt,m.value.actif]]),e[106]||(e[106]=t("label",{for:"actif",class:"text-sm font-medium text-gray-700"},"Cours actif (visible sur le site)",-1))]),t("div",Jl,[t("button",{type:"button",onClick:e[37]||(e[37]=s=>D.value=!1),class:"px-5 py-2.5 border rounded-xl hover:bg-gray-50 transition-colors"}," Annuler "),t("button",{type:"submit",disabled:R.value,class:"px-5 py-2.5 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors disabled:opacity-50"},n(R.value?"Enregistrement...":I.value?"Modifier":"Ajouter"),9,Yl)])],32)])])):f("",!0)])}}};export{ta as default};
