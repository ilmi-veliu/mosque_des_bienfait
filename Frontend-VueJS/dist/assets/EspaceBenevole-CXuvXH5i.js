import{c as oe,r as f,a as M,o as st,z as x,J as ot,b as a,d as n,k as d,e as s,f as u,w as P,g as m,u as p,h as nt,t as i,n as c,L as at,D as de,A as H,X as K,i as w,v as C,F as _,l as j,C as _e,m as lt,E as it,K as rt,H as dt}from"./index-DFNxEs4S.js";import{C as ue}from"./chevron-left-Daamktqa.js";import{U as ke,a as we,C as Ce,P as me}from"./user-check-Dt4OtuiS.js";import{C as ut}from"./clock-8NrhTGdW.js";import{E as je}from"./eye-D4aqcCHv.js";import{U as mt}from"./users-CvPSSWcP.js";import{B as ct}from"./book-open-BxVCQGP4.js";import{W as xt,M as vt,U as pt}from"./wrench-DFJ4Rc0-.js";/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=oe("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=oe("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=oe("list-checks",[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]]);/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=oe("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),ht={class:"min-h-screen bg-gray-50"},_t={key:0,class:"min-h-screen flex items-center justify-center"},kt={key:1,class:"min-h-screen flex items-center justify-center px-4"},wt={class:"bg-white rounded-2xl shadow-lg p-8 w-full max-w-md text-center"},Ct={class:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4"},jt={class:"space-y-3"},Dt={class:"mt-6 pt-6 border-t"},zt={class:"text-xs text-gray-400"},qt={key:2,class:"min-h-screen flex items-center justify-center px-4"},$t={class:"bg-white rounded-2xl shadow-lg p-8 w-full max-w-md text-center"},St={class:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4"},Vt={class:"text-gray-500 text-sm mb-6"},Mt={class:"space-y-3"},Rt={key:3},Tt={class:"bg-[#030213] text-white px-4 py-4"},Pt={class:"max-w-7xl mx-auto flex justify-between items-center"},At={class:"flex items-center gap-3"},Nt={class:"text-lg font-semibold"},Ft={class:"text-xs text-gray-400"},Ut={class:"flex items-center gap-3 sm:gap-4"},It={class:"max-w-7xl mx-auto px-4 pt-6"},Lt={class:"flex flex-col sm:flex-row sm:items-center gap-4"},Bt={class:"flex items-center gap-3 flex-1"},Et={class:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md"},Jt={class:"border-b px-6 py-4 flex items-center justify-between"},Ot={class:"px-6 py-5 space-y-5"},Ht={class:"flex gap-3"},Wt={class:"space-y-3"},Yt={class:"text-xs text-gray-500"},Xt={class:"grid grid-cols-2 gap-3"},Kt=["placeholder"],Qt=["disabled"],Gt={key:1,class:"max-w-7xl mx-auto px-4 py-8"},Zt={class:"bg-amber-50 border border-amber-200 rounded-xl p-4 mb-6 flex items-center gap-3"},es={class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-16"},ts={class:"w-12 h-12 bg-emerald-50 rounded-lg flex items-center justify-center mb-4"},ss={class:"font-semibold text-gray-800 mb-2"},os={class:"text-sm text-gray-600"},ns={key:2,class:"bg-white border-b"},as={class:"max-w-7xl mx-auto flex"},ls={key:3,class:"max-w-7xl mx-auto px-4 py-8"},is={key:0},rs={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-6"},ds={class:"text-sm bg-emerald-100 text-emerald-700 px-3 py-1.5 rounded-full font-medium self-start"},us={key:0,class:"text-center py-12"},ms={key:1},cs={class:"flex items-center justify-between mb-4"},xs={class:"text-sm font-medium text-gray-600"},vs={class:"bg-white rounded-2xl border overflow-hidden"},ps={class:"grid grid-cols-7 bg-gray-50 border-b"},bs={class:"grid grid-cols-7"},fs=["onClick"],gs={class:"flex items-start justify-between"},ys={key:0,class:"text-[10px] text-emerald-600 font-bold"},hs={class:"mt-1 flex flex-wrap gap-1"},_s={key:0,class:"w-2 h-2 rounded-full bg-emerald-500 inline-block"},ks={key:1,class:"text-[10px] text-gray-400"},ws={key:0,class:"mt-0.5"},Cs={class:"text-[10px] bg-amber-100 text-amber-700 px-1 rounded"},js={key:1,class:"mt-0.5 hidden sm:block"},Ds={class:"text-[10px] bg-blue-100 text-blue-700 px-1 rounded"},zs={key:2,class:"mt-0.5 hidden sm:block"},qs={class:"text-[10px] bg-orange-100 text-orange-700 px-1 rounded"},$s={key:1},Ss={class:"flex gap-2 mb-6 overflow-x-auto"},Vs={key:0,class:"text-center py-12"},Ms={key:0},Rs={class:"flex justify-between items-center mb-6"},Ts={class:"text-sm text-gray-500"},Ps={key:0,class:"bg-white rounded-xl border p-4 mb-6"},As={key:1,class:"text-center py-12 text-gray-500"},Ns={key:2,class:"space-y-3"},Fs={class:"flex items-center gap-3 flex-1 min-w-0"},Us=["onClick"],Is={class:"min-w-0"},Ls={class:"text-xs text-gray-400"},Bs={class:"flex items-center gap-2 self-end sm:self-center"},Es={key:0,class:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded font-medium"},Js=["onClick"],Os=["onClick"],Hs=["onClick"],Ws={key:1},Ys={class:"flex justify-between items-center mb-6"},Xs={class:"text-sm text-gray-500"},Ks={key:0,class:"bg-white rounded-xl border p-4 mb-6"},Qs={key:1,class:"text-center py-12 text-gray-500"},Gs={key:2,class:"space-y-3"},Zs={class:"flex items-center gap-3 flex-1 min-w-0"},eo=["onClick"],to={class:"min-w-0"},so={class:"flex gap-2 text-xs text-gray-400"},oo={key:0},no={key:1},ao={class:"flex items-center gap-2 self-end sm:self-center"},lo={key:0,class:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded font-medium"},io=["onClick"],ro=["onClick"],uo={key:2},mo={class:"text-sm text-gray-500 mb-6"},co={key:0,class:"text-center py-12 text-gray-500"},xo={key:1,class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4"},vo={class:"flex items-center gap-3 mb-3"},po={class:"font-medium text-gray-800"},bo={key:0,class:"text-xs text-emerald-600"},fo={class:"text-xs text-gray-500 space-y-1"},go={class:"relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto"},yo={class:"sticky top-0 bg-white border-b px-6 py-4 flex items-center justify-between rounded-t-2xl z-10"},ho={class:"text-lg font-semibold text-gray-900 capitalize"},_o={class:"text-xs text-emerald-600 font-medium"},ko={class:"px-6 py-5 space-y-6"},wo={class:"flex items-center justify-between"},Co={key:0},jo={class:"text-sm font-medium text-gray-700 mb-2"},Do={class:"flex flex-wrap gap-1.5"},zo={key:0,class:"text-xs bg-emerald-100 text-emerald-700 px-2.5 py-1 rounded-lg font-medium"},qo={key:0,class:"space-y-2 mb-3"},$o={class:"flex items-center gap-2 text-sm min-w-0"},So=["onClick"],Vo={class:"flex items-center gap-1.5 flex-shrink-0"},Mo={key:0,class:"text-[11px] bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded"},Ro=["onClick"],To=["onClick"],Po={key:1,class:"text-sm text-gray-400 mb-3"},Ao=["disabled"],No={key:1},Fo={class:"space-y-1.5"},Uo={key:0,class:"text-[11px] bg-blue-50 text-blue-600 px-1.5 py-0.5 rounded ml-auto"},Io={key:0,class:"space-y-2.5 mb-4"},Lo={class:"flex items-start justify-between gap-2"},Bo={class:"min-w-0 flex-1"},Eo={class:"text-sm text-gray-800"},Jo={class:"text-[11px] text-gray-400 mt-1"},Oo=["onClick"],Ho={key:1,class:"text-sm text-gray-400 mb-4"},Wo=["disabled"],on={__name:"EspaceBenevole",setup(Yo){const De=it(),ce=f(!0),A=f(null),l=f(null),ne=M(()=>{var o;return["admin","superadmin"].includes((o=l.value)==null?void 0:o.role)}),ze=M(()=>{var o;return((o=l.value)==null?void 0:o.role)==="superadmin"}),R=f("benevole");let W=null;const qe=[{titre:"Enseignement",desc:"Cours de Coran, langue arabe, soutien scolaire.",icon:ct},{titre:"Social & Entraide",desc:"Distribution alimentaire, aide aux familles.",icon:dt},{titre:"Événements",desc:"Organisation, accueil des visiteurs, logistique.",icon:_e},{titre:"Entretien & Travaux",desc:"Nettoyage, petits travaux, maintenance.",icon:xt},{titre:"Communication",desc:"Réseaux sociaux, site web, graphisme.",icon:vt},{titre:"Cuisine Ramadan",desc:"Préparation des repas d'iftar.",icon:pt}];st(async()=>{const{data:{session:o}}=await x.auth.getSession();if(A.value=o,o){const e=ie(),{data:r}=await x.from("benevoles").select("*").eq("email",o.user.email).eq("statut","accepté").single();r&&(l.value=r,await e)}ce.value=!1,o&&!l.value&&(W=setInterval(async()=>{var r,t;if(l.value){clearInterval(W);return}const{data:e}=await x.from("benevoles").select("*").eq("email",(t=(r=A.value)==null?void 0:r.user)==null?void 0:t.email).eq("statut","accepté").single();e&&(l.value=e,clearInterval(W),await ie())},3e4)),x.auth.onAuthStateChange(async(e,r)=>{if(A.value=r,r){const t=ie(),{data:v}=await x.from("benevoles").select("*").eq("email",r.user.email).eq("statut","accepté").single();v?(l.value=v,await t):l.value=null}else l.value=null})}),ot(()=>{W&&clearInterval(W)});const xe=async()=>{await x.auth.signOut(),A.value=null,l.value=null,De.push("/")},N=M(()=>l.value?`${l.value.prenom} ${l.value.nom}`:""),F=f(!1),Q=f(!1),g=f({disponible:!0,dispo_debut:"",dispo_fin:"",dispo_motif:""}),$e=()=>{g.value={disponible:l.value.disponible!==!1,dispo_debut:l.value.dispo_debut||"",dispo_fin:l.value.dispo_fin||"",dispo_motif:l.value.dispo_motif||""},F.value=!0},Se=async()=>{Q.value=!0;const o={disponible:g.value.disponible,dispo_debut:g.value.dispo_debut||null,dispo_fin:g.value.dispo_fin||null,dispo_motif:g.value.dispo_motif||null};await x.from("benevoles").update(o).eq("id",l.value.id),l.value.disponible=o.disponible,l.value.dispo_debut=o.dispo_debut,l.value.dispo_fin=o.dispo_fin,l.value.dispo_motif=o.dispo_motif;let e=`${N.value} est maintenant `;o.disponible?e+="disponible":e+="indisponible",o.dispo_debut||o.dispo_fin?(e+=" du "+(o.dispo_debut?L(o.dispo_debut):"?"),e+=" au "+(o.dispo_fin?L(o.dispo_fin):"?")):e+=" (indéfini)",o.dispo_motif&&(e+=` — ${o.dispo_motif}`),e+=".",await x.from("notifications").insert({type:"disponibilite",message:e,benevole_id:l.value.id}),Q.value=!1,F.value=!1},U=f("planning"),D=f("taches"),G=f(!0),z=f([]),I=f([]),y=f([]),S=f([]),V=f([]),ae=[],Ve=new Date(2026,1,18);for(let o=0;o<30;o++){const e=new Date(Ve);e.setDate(e.getDate()+o),ae.push(e)}const h=o=>{const e=o.getFullYear(),r=String(o.getMonth()+1).padStart(2,"0"),t=String(o.getDate()).padStart(2,"0");return`${e}-${r}-${t}`},Me=o=>o.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"}),L=o=>o?new Date(o+"T00:00:00").toLocaleDateString("fr-FR",{day:"numeric",month:"short"}):"",Re=new Set(ae.map(o=>h(o))),Te=o=>Re.has(h(o)),ve=o=>{const e=h(o),r=ae.findIndex(t=>h(t)===e);return r>=0?r+1:0},B=f(1),le=new Date,Pe=M(()=>{const o=[],r=B.value===1?1:2;let v=new Date(2026,r,1).getDay()-1;v<0&&(v=6);const ye=new Date(2026,r+1,0).getDate();for(let $=0;$<v;$++)o.push({date:null,isRamadan:!1,isToday:!1});for(let $=1;$<=ye;$++){const O=new Date(2026,r,$),tt=O.getDate()===le.getDate()&&O.getMonth()===le.getMonth()&&O.getFullYear()===le.getFullYear();o.push({date:O,isRamadan:Te(O),ramadanDay:ve(O),isToday:tt})}const he=o.length%7;if(he>0)for(let $=0;$<7-he;$++)o.push({date:null,isRamadan:!1,isToday:!1});return o}),b=f(null),T=f(""),E=f(""),Ae=async()=>{if(!E.value.trim()||!b.value)return;const o=h(b.value),e={id:Date.now(),nom:E.value.trim(),jour:o,benevole_id:null,fait:!1,created_by:l.value.id};y.value.push(e),E.value="";const{data:r}=await x.from("ramadan_taches").insert({nom:e.nom,jour:e.jour,created_by:l.value.id}).select();if(r&&r[0]){const t=y.value.findIndex(v=>v.id===e.id);t!==-1&&(y.value[t]=r[0])}},Ne=o=>{b.value=o,T.value=""},ie=async()=>{G.value=!0;const[o,e,r,t,v]=await Promise.all([x.from("ramadan_presences").select("*"),x.from("benevoles").select("id, prenom, nom").eq("statut","accepté"),x.from("ramadan_taches").select("*"),x.from("ramadan_produits").select("*").order("created_at"),x.from("ramadan_notes").select("*").order("created_at")]);z.value=o.data||[],I.value=e.data||[],y.value=r.data||[],S.value=t.data||[],V.value=v.data||[],G.value=!1},J=o=>z.value.some(e=>e.benevole_id===l.value.id&&e.jour===h(o)),Fe=M(()=>z.value.filter(o=>{var e;return o.benevole_id===((e=l.value)==null?void 0:e.id)}).length),Z=o=>z.value.filter(e=>e.jour===h(o)).length,Ue=o=>z.value.filter(r=>r.jour===h(o)&&r.benevole_id!==l.value.id).map(r=>r.benevole_id).map(r=>{const t=I.value.find(v=>v.id===r);return t?`${t.prenom} ${t.nom}`:"Inconnu"}),Ie=async o=>{const e=h(o),r=J(o);r?z.value=z.value.filter(t=>!(t.benevole_id===l.value.id&&t.jour===e)):z.value.push({benevole_id:l.value.id,jour:e}),r?await x.from("ramadan_presences").delete().eq("benevole_id",l.value.id).eq("jour",e):await x.from("ramadan_presences").insert({benevole_id:l.value.id,jour:e})},Y=o=>y.value.filter(e=>e.jour===h(o)),Le=M(()=>[...y.value].sort((o,e)=>o.fait!==e.fait?o.fait?1:-1:o.jour<e.jour?-1:1)),Be=M(()=>y.value.filter(o=>!o.fait).length),ee=f(!1),q=f({nom:"",jour:""}),Ee=async()=>{if(!q.value.nom.trim()||!q.value.jour)return;const o={id:Date.now(),nom:q.value.nom.trim(),jour:q.value.jour,benevole_id:null,fait:!1,created_by:l.value.id};y.value.push(o),q.value={nom:"",jour:""},ee.value=!1;const{data:e}=await x.from("ramadan_taches").insert({nom:o.nom,jour:o.jour,created_by:l.value.id}).select();if(e&&e[0]){const r=y.value.findIndex(t=>t.id===o.id);r!==-1&&(y.value[r]=e[0])}},pe=async o=>{o.fait=!o.fait,o.fait?(o.benevole_id=l.value.id,await x.from("ramadan_taches").update({fait:!0,benevole_id:l.value.id}).eq("id",o.id)):(o.benevole_id=null,await x.from("ramadan_taches").update({fait:!1,benevole_id:null}).eq("id",o.id))},be=async o=>{o.benevole_id=l.value.id,await x.from("ramadan_taches").update({benevole_id:l.value.id}).eq("id",o.id)},Je=async o=>{o.benevole_id=null,await x.from("ramadan_taches").update({benevole_id:null}).eq("id",o.id)},fe=async o=>{y.value=y.value.filter(e=>e.id!==o),await x.from("ramadan_taches").delete().eq("id",o)},te=o=>{if(!o)return null;const e=I.value.find(r=>r.id===o);return e?`${e.prenom} ${e.nom}`:null},ge=o=>V.value.filter(e=>e.jour===h(o)),re=o=>V.value.filter(e=>e.jour===h(o)).length,Oe=o=>{if(!o)return"";const e=new Date(o);return e.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})+" à "+e.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})},He=async()=>{if(!T.value.trim()||!b.value)return;const o=h(b.value),e={id:Date.now(),jour:o,contenu:T.value.trim(),auteur_nom:N.value,benevole_id:l.value.id,created_at:new Date().toISOString()};V.value.push(e),T.value="";const{data:r}=await x.from("ramadan_notes").insert({jour:o,contenu:e.contenu,auteur_nom:e.auteur_nom,benevole_id:l.value.id}).select();if(r&&r[0]){const t=V.value.findIndex(v=>v.id===e.id);t!==-1&&(V.value[t]=r[0])}},We=async o=>{V.value=V.value.filter(e=>e.id!==o),await x.from("ramadan_notes").delete().eq("id",o)},se=f(!1),k=f({nom:"",quantite:"",jour:""}),Ye=M(()=>S.value.filter(o=>!o.en_stock).length),X=o=>S.value.filter(e=>e.jour===h(o)),Xe=async()=>{const o={id:Date.now(),nom:k.value.nom,quantite:k.value.quantite||null,jour:k.value.jour||null,en_stock:!1,responsable_nom:null};S.value.push(o),k.value={nom:"",quantite:"",jour:""},se.value=!1;const{data:e}=await x.from("ramadan_produits").insert({nom:o.nom,quantite:o.quantite,jour:o.jour}).select();if(e&&e[0]){const r=S.value.findIndex(t=>t.id===o.id);r!==-1&&(S.value[r]=e[0])}},Ke=async o=>{o.en_stock=!o.en_stock,await x.from("ramadan_produits").update({en_stock:o.en_stock}).eq("id",o.id)},Qe=async o=>{o.responsable_nom=N.value,await x.from("ramadan_produits").update({responsable_nom:N.value}).eq("id",o.id)},Ge=async o=>{o.responsable_nom=null,await x.from("ramadan_produits").update({responsable_nom:null}).eq("id",o.id)},Ze=o=>z.value.filter(e=>e.benevole_id===o).length,et=o=>y.value.filter(e=>e.benevole_id===o).length;return(o,e)=>{const r=nt("router-link");return n(),a("div",ht,[ce.value?(n(),a("div",_t,[...e[30]||(e[30]=[s("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-300 border-t-emerald-600"},null,-1)])])):A.value?l.value?(n(),a("div",Rt,[s("div",Tt,[s("div",Pt,[s("div",At,[u(p(ke),{size:24,class:"text-emerald-400"}),s("div",null,[s("h1",Nt,i(l.value.prenom)+" "+i(l.value.nom),1),s("p",Ft,i(l.value.domaine),1)])]),s("div",Ut,[ze.value?(n(),a("button",{key:0,onClick:e[0]||(e[0]=t=>R.value=R.value==="benevole"?"visiteur":"benevole"),class:c(["flex items-center gap-1.5 text-xs px-3 py-1.5 rounded-lg transition-colors",R.value==="visiteur"?"bg-amber-500 text-white":"bg-white/10 text-gray-300 hover:text-white"])},[u(p(je),{size:14}),m(" "+i(R.value==="visiteur"?"Vue visiteur":"Vue bénévole"),1)],2)):d("",!0),u(r,{to:"/",class:"text-gray-400 hover:text-white transition-colors text-xs sm:text-sm"},{default:P(()=>[...e[47]||(e[47]=[m(" Voir le site ",-1)])]),_:1}),s("button",{onClick:xe,class:"text-gray-400 hover:text-white transition-colors flex items-center gap-1 text-xs sm:text-sm"},[u(p(at),{size:16}),e[48]||(e[48]=s("span",{class:"hidden sm:inline"},"Déconnexion",-1))])])])]),s("div",It,[s("div",{class:c(["rounded-xl border p-4 sm:p-5",l.value.disponible!==!1?"bg-emerald-50 border-emerald-200":"bg-red-50 border-red-200"])},[s("div",Lt,[s("div",Bt,[s("div",{class:c(["w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0",l.value.disponible!==!1?"bg-emerald-100":"bg-red-100"])},[l.value.disponible!==!1?(n(),de(p(we),{key:0,size:20,class:"text-emerald-600"})):(n(),de(p(Ce),{key:1,size:20,class:"text-red-600"}))],2),s("div",null,[s("p",{class:c(["font-semibold",l.value.disponible!==!1?"text-emerald-800":"text-red-800"])},i(l.value.disponible!==!1?"Vous êtes disponible":"Vous êtes indisponible"),3),l.value.dispo_debut||l.value.dispo_fin?(n(),a("p",{key:0,class:c(["text-xs",l.value.disponible!==!1?"text-emerald-600":"text-red-600"])},i(l.value.dispo_debut?"Du "+L(l.value.dispo_debut):"")+" "+i(l.value.dispo_fin?" au "+L(l.value.dispo_fin):""),3)):(n(),a("p",{key:1,class:c(["text-xs",l.value.disponible!==!1?"text-emerald-600":"text-red-600"])}," Indéfini ",2)),l.value.dispo_motif?(n(),a("p",{key:2,class:c(["text-xs italic mt-0.5",l.value.disponible!==!1?"text-emerald-500":"text-red-500"])},i(l.value.dispo_motif),3)):d("",!0)])]),s("button",{onClick:e[1]||(e[1]=t=>$e()),class:c(["px-4 py-2 rounded-xl text-sm font-medium transition-colors",l.value.disponible!==!1?"bg-white text-emerald-700 border border-emerald-300 hover:bg-emerald-100":"bg-white text-red-700 border border-red-300 hover:bg-red-100"])}," Modifier ma disponibilité ",2)])],2)]),F.value?(n(),a("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e[9]||(e[9]=H(t=>F.value=!1,["self"]))},[s("div",{class:"absolute inset-0 bg-black/40",onClick:e[2]||(e[2]=t=>F.value=!1)}),s("div",Et,[s("div",Jt,[e[49]||(e[49]=s("h3",{class:"text-lg font-semibold text-gray-900"},"Ma disponibilité",-1)),s("button",{onClick:e[3]||(e[3]=t=>F.value=!1),class:"text-gray-400 hover:text-gray-600 p-1"},[u(p(K),{size:20})])]),s("div",Ot,[s("div",Ht,[s("button",{onClick:e[4]||(e[4]=t=>g.value.disponible=!0),class:c([g.value.disponible?"bg-emerald-600 text-white ring-2 ring-emerald-300":"bg-gray-100 text-gray-600 hover:bg-gray-200","flex-1 py-3 rounded-xl font-medium text-sm transition-all flex items-center justify-center gap-2"])},[u(p(we),{size:18}),e[50]||(e[50]=m(" Disponible ",-1))],2),s("button",{onClick:e[5]||(e[5]=t=>g.value.disponible=!1),class:c([g.value.disponible?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-red-600 text-white ring-2 ring-red-300","flex-1 py-3 rounded-xl font-medium text-sm transition-all flex items-center justify-center gap-2"])},[u(p(Ce),{size:18}),e[51]||(e[51]=m(" Indisponible ",-1))],2)]),s("div",Wt,[s("p",Yt,i(g.value.disponible?"Précisez vos dates de disponibilité ou laissez vide pour indéfini.":"Précisez vos dates d'indisponibilité ou laissez vide pour indéfini."),1),s("div",Xt,[s("div",null,[e[52]||(e[52]=s("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Du (optionnel)",-1)),w(s("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>g.value.dispo_debut=t),type:"date",class:"w-full px-3 py-2 border rounded-xl text-sm focus:outline-none focus:border-emerald-600"},null,512),[[C,g.value.dispo_debut]])]),s("div",null,[e[53]||(e[53]=s("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Au (optionnel)",-1)),w(s("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>g.value.dispo_fin=t),type:"date",class:"w-full px-3 py-2 border rounded-xl text-sm focus:outline-none focus:border-emerald-600"},null,512),[[C,g.value.dispo_fin]])])]),s("div",null,[e[54]||(e[54]=s("label",{class:"block text-xs font-medium text-gray-600 mb-1"},"Commentaire (optionnel)",-1)),w(s("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>g.value.dispo_motif=t),type:"text",placeholder:g.value.disponible?"Ex: Tous les week-ends, après 18h...":"Ex: Voyage, maladie, travail...",class:"w-full px-3 py-2 border rounded-xl text-sm focus:outline-none focus:border-emerald-600"},null,8,Kt),[[C,g.value.dispo_motif]])])]),s("button",{onClick:Se,disabled:Q.value,class:"w-full bg-emerald-600 text-white py-3 rounded-xl font-medium hover:bg-emerald-700 transition-colors disabled:opacity-50"},i(Q.value?"Enregistrement...":"Enregistrer"),9,Qt)])])])):d("",!0),R.value==="visiteur"?(n(),a("div",Gt,[s("div",Zt,[u(p(je),{size:18,class:"text-amber-600 flex-shrink-0"}),e[55]||(e[55]=s("p",{class:"text-sm text-amber-800"},[m("Vous voyez la page telle qu'un "),s("strong",null,"visiteur non-bénévole"),m(' la voit. Cliquez sur "Vue bénévole" pour revenir.')],-1))]),e[56]||(e[56]=s("h2",{class:"text-2xl font-semibold text-gray-900 mb-8 text-center"},"Nos domaines de bénévolat",-1)),s("div",es,[(n(),a(_,null,j(qe,t=>s("div",{key:t.titre,class:"bg-white rounded-xl p-6 shadow-sm border"},[s("div",ts,[(n(),de(rt(t.icon),{size:24,class:"text-emerald-600"}))]),s("h3",ss,i(t.titre),1),s("p",os,i(t.desc),1)])),64))]),e[57]||(e[57]=s("div",{class:"max-w-2xl mx-auto text-center"},[s("h2",{class:"text-2xl font-semibold text-gray-900 mb-2"},"Formulaire de candidature"),s("p",{class:"text-gray-500 text-sm mb-6"},"Les visiteurs voient ici le formulaire pour envoyer leur candidature bénévole."),s("div",{class:"bg-gray-100 rounded-xl p-8 text-gray-400 text-sm italic"}," Formulaire de candidature (prénom, nom, email, téléphone, domaine, message) ")],-1))])):d("",!0),R.value==="benevole"?(n(),a("div",ns,[s("div",as,[s("button",{onClick:e[10]||(e[10]=t=>U.value="planning"),class:c([U.value==="planning"?"border-emerald-600 text-emerald-700":"border-transparent text-gray-500 hover:text-gray-700","flex-1 sm:flex-none px-4 sm:px-6 py-4 border-b-2 font-medium transition-colors flex items-center justify-center gap-2 text-sm sm:text-base"])},[u(p(_e),{size:18}),e[58]||(e[58]=m(" Planning ",-1))],2),s("button",{onClick:e[11]||(e[11]=t=>U.value="organisation"),class:c([U.value==="organisation"?"border-emerald-600 text-emerald-700":"border-transparent text-gray-500 hover:text-gray-700","flex-1 sm:flex-none px-4 sm:px-6 py-4 border-b-2 font-medium transition-colors flex items-center justify-center gap-2 text-sm sm:text-base"])},[u(p(ft),{size:18}),e[59]||(e[59]=m(" Organisation ",-1))],2)])])):d("",!0),R.value==="benevole"?(n(),a("div",ls,[U.value==="planning"?(n(),a("div",is,[s("div",rs,[e[60]||(e[60]=s("div",null,[s("h2",{class:"text-xl sm:text-2xl font-semibold text-gray-800"},"Ramadan 2026"),s("p",{class:"text-sm text-gray-500"},"18 février - 19 mars")],-1)),s("span",ds," Vous : "+i(Fe.value)+" / 30 jours ",1)]),G.value?(n(),a("div",us,[...e[61]||(e[61]=[s("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-300 border-t-emerald-600"},null,-1)])])):(n(),a("div",ms,[s("div",cs,[s("button",{onClick:e[12]||(e[12]=t=>B.value=1),class:c([B.value===1?"bg-emerald-600 text-white":"bg-white text-gray-700 border hover:bg-gray-50","px-4 py-2 rounded-xl text-sm font-medium transition-colors flex items-center gap-2"])},[u(p(ue),{size:16}),e[62]||(e[62]=m(" Février ",-1))],2),s("span",xs,i(B.value===1?"Février 2026":"Mars 2026"),1),s("button",{onClick:e[13]||(e[13]=t=>B.value=2),class:c([B.value===2?"bg-emerald-600 text-white":"bg-white text-gray-700 border hover:bg-gray-50","px-4 py-2 rounded-xl text-sm font-medium transition-colors flex items-center gap-2"])},[e[63]||(e[63]=m(" Mars ",-1)),u(p(bt),{size:16})],2)]),s("div",vs,[s("div",ps,[(n(),a(_,null,j(["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"],t=>s("div",{key:t,class:"py-3 text-center text-xs font-semibold text-gray-500 uppercase"},i(t),1)),64))]),s("div",bs,[(n(!0),a(_,null,j(Pe.value,(t,v)=>(n(),a("div",{key:v,onClick:ye=>t.isRamadan?Ne(t.date):null,class:c(["min-h-[80px] sm:min-h-[100px] border-b border-r p-1.5 sm:p-2 relative",[t.isRamadan?"cursor-pointer hover:bg-emerald-50/50 transition-colors":"",t.date?"":"bg-gray-50/50",t.isRamadan&&J(t.date)?"bg-emerald-50/40":"",t.isToday?"ring-2 ring-inset ring-emerald-500":""]])},[t.date?(n(),a(_,{key:0},[s("div",gs,[s("span",{class:c(["text-sm font-medium",t.isRamadan?"text-gray-800":"text-gray-300"])},i(t.date.getDate()),3),t.isRamadan?(n(),a("span",ys," J"+i(t.ramadanDay),1)):d("",!0)]),t.isRamadan?(n(),a(_,{key:0},[s("div",hs,[J(t.date)?(n(),a("span",_s)):d("",!0),Z(t.date)>0?(n(),a("span",ks,i(Z(t.date)),1)):d("",!0)]),re(t.date)>0?(n(),a("div",ws,[s("span",Cs,i(re(t.date))+" note"+i(re(t.date)>1?"s":""),1)])):d("",!0),Y(t.date).length>0?(n(),a("div",js,[s("span",Ds,i(Y(t.date).length)+" tâche"+i(Y(t.date).length>1?"s":""),1)])):d("",!0),X(t.date).length>0?(n(),a("div",zs,[s("span",qs,i(X(t.date).length)+" course"+i(X(t.date).length>1?"s":""),1)])):d("",!0)],64)):d("",!0)],64)):d("",!0)],10,fs))),128))])]),e[64]||(e[64]=lt('<div class="flex flex-wrap gap-4 mt-4 text-xs text-gray-500"><div class="flex items-center gap-1.5"><span class="w-2 h-2 rounded-full bg-emerald-500 inline-block"></span> Vous êtes présent </div><div class="flex items-center gap-1.5"><span class="bg-amber-100 text-amber-700 px-1 rounded text-[10px]">1</span> Notes </div><div class="flex items-center gap-1.5"><span class="bg-blue-100 text-blue-700 px-1 rounded text-[10px]">1</span> Tâches </div><div class="flex items-center gap-1.5"><span class="bg-orange-100 text-orange-700 px-1 rounded text-[10px]">1</span> Courses </div><div class="flex items-center gap-1.5"><span class="ring-2 ring-emerald-500 w-4 h-3 inline-block rounded-sm"></span> Aujourd&#39;hui </div></div>',1))]))])):d("",!0),U.value==="organisation"?(n(),a("div",$s,[s("div",Ss,[s("button",{onClick:e[14]||(e[14]=t=>D.value="taches"),class:c([D.value==="taches"?"bg-emerald-600 text-white":"bg-white text-gray-700 border hover:bg-gray-50","px-4 py-2 rounded-xl text-sm font-medium transition-colors whitespace-nowrap flex items-center gap-2"])},[u(p(gt),{size:16}),e[65]||(e[65]=m(" Tâches ",-1))],2),s("button",{onClick:e[15]||(e[15]=t=>D.value="courses"),class:c([D.value==="courses"?"bg-emerald-600 text-white":"bg-white text-gray-700 border hover:bg-gray-50","px-4 py-2 rounded-xl text-sm font-medium transition-colors whitespace-nowrap flex items-center gap-2"])},[u(p(yt),{size:16}),e[66]||(e[66]=m(" Courses ",-1))],2),s("button",{onClick:e[16]||(e[16]=t=>D.value="equipe"),class:c([D.value==="equipe"?"bg-emerald-600 text-white":"bg-white text-gray-700 border hover:bg-gray-50","px-4 py-2 rounded-xl text-sm font-medium transition-colors whitespace-nowrap flex items-center gap-2"])},[u(p(mt),{size:16}),e[67]||(e[67]=m(" Équipe ",-1))],2)]),G.value?(n(),a("div",Vs,[...e[68]||(e[68]=[s("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-300 border-t-emerald-600"},null,-1)])])):(n(),a(_,{key:1},[D.value==="taches"?(n(),a("div",Ms,[s("div",Rs,[s("div",null,[e[69]||(e[69]=s("h2",{class:"text-xl sm:text-2xl font-semibold text-gray-800"},"Tâches à faire",-1)),s("p",Ts,i(Be.value)+" tâche(s) restante(s)",1)]),s("button",{onClick:e[17]||(e[17]=t=>ee.value=!ee.value),class:"bg-emerald-600 text-white px-4 py-2.5 rounded-xl hover:bg-emerald-700 transition-colors text-sm flex items-center gap-2"},[u(p(me),{size:16}),e[70]||(e[70]=m(" Ajouter ",-1))])]),ee.value?(n(),a("div",Ps,[s("form",{onSubmit:H(Ee,["prevent"]),class:"flex flex-col sm:flex-row gap-3"},[w(s("input",{"onUpdate:modelValue":e[18]||(e[18]=t=>q.value.nom=t),required:"",placeholder:"Nom de la tâche",class:"flex-1 px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600 text-sm"},null,512),[[C,q.value.nom]]),w(s("input",{"onUpdate:modelValue":e[19]||(e[19]=t=>q.value.jour=t),type:"date",required:"",min:"2026-02-18",max:"2026-03-19",class:"sm:w-44 px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600 text-sm"},null,512),[[C,q.value.jour]]),e[71]||(e[71]=s("button",{type:"submit",class:"bg-emerald-600 text-white px-5 py-2.5 rounded-xl hover:bg-emerald-700 text-sm font-medium"}," Ajouter ",-1))],32)])):d("",!0),y.value.length===0?(n(),a("div",As," Aucune tâche pour le moment. ")):(n(),a("div",Ns,[(n(!0),a(_,null,j(Le.value,t=>(n(),a("div",{key:t.id,class:"bg-white rounded-xl border p-4 flex flex-col sm:flex-row sm:items-center gap-3"},[s("div",Fs,[s("button",{onClick:v=>pe(t),class:c([t.fait?"bg-emerald-100 text-emerald-600":"bg-gray-100 text-gray-400","w-9 h-9 rounded-lg flex items-center justify-center flex-shrink-0 transition-colors text-sm font-bold"])},i(t.fait?"✓":""),11,Us),s("div",Is,[s("p",{class:c(["font-medium",t.fait?"line-through text-gray-400":"text-gray-800"])},i(t.nom),3),s("p",Ls,i(L(t.jour)),1)])]),s("div",Bs,[te(t.benevole_id)?(n(),a("span",Es,i(te(t.benevole_id)),1)):d("",!0),t.benevole_id?t.benevole_id===l.value.id?(n(),a("button",{key:2,onClick:v=>Je(t),class:"text-xs text-gray-400 hover:text-red-600 transition-colors"}," Annuler ",8,Os)):d("",!0):(n(),a("button",{key:1,onClick:v=>be(t),class:"text-xs bg-emerald-50 text-emerald-700 px-3 py-1.5 rounded-lg hover:bg-emerald-100 transition-colors font-medium"}," Je m'en charge ",8,Js)),ne.value||t.created_by===l.value.id?(n(),a("button",{key:3,onClick:v=>fe(t.id),class:"text-gray-300 hover:text-red-500 transition-colors p-0.5"},[u(p(K),{size:14})],8,Hs)):d("",!0)])]))),128))]))])):d("",!0),D.value==="courses"?(n(),a("div",Ws,[s("div",Ys,[s("div",null,[e[72]||(e[72]=s("h2",{class:"text-xl sm:text-2xl font-semibold text-gray-800"},"Liste des courses",-1)),s("p",Xs,i(Ye.value)+" produit(s) manquant(s)",1)]),s("button",{onClick:e[20]||(e[20]=t=>se.value=!se.value),class:"bg-emerald-600 text-white px-4 py-2.5 rounded-xl hover:bg-emerald-700 transition-colors text-sm flex items-center gap-2"},[u(p(me),{size:16}),e[73]||(e[73]=m(" Ajouter ",-1))])]),se.value?(n(),a("div",Ks,[s("form",{onSubmit:H(Xe,["prevent"]),class:"flex flex-col sm:flex-row gap-3"},[w(s("input",{"onUpdate:modelValue":e[21]||(e[21]=t=>k.value.nom=t),required:"",placeholder:"Nom du produit",class:"flex-1 px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600 text-sm"},null,512),[[C,k.value.nom]]),w(s("input",{"onUpdate:modelValue":e[22]||(e[22]=t=>k.value.quantite=t),placeholder:"Quantité (ex: 5 kg)",class:"sm:w-40 px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600 text-sm"},null,512),[[C,k.value.quantite]]),w(s("input",{"onUpdate:modelValue":e[23]||(e[23]=t=>k.value.jour=t),type:"date",min:"2026-02-18",max:"2026-03-19",placeholder:"Jour (optionnel)",class:"sm:w-44 px-4 py-2.5 border rounded-xl focus:outline-none focus:border-emerald-600 text-sm"},null,512),[[C,k.value.jour]]),e[74]||(e[74]=s("button",{type:"submit",class:"bg-emerald-600 text-white px-5 py-2.5 rounded-xl hover:bg-emerald-700 text-sm font-medium"}," Ajouter ",-1))],32)])):d("",!0),S.value.length===0?(n(),a("div",Qs," Aucun produit dans la liste pour le moment. ")):(n(),a("div",Gs,[(n(!0),a(_,null,j(S.value,t=>(n(),a("div",{key:t.id,class:"bg-white rounded-xl border p-4 flex flex-col sm:flex-row sm:items-center gap-3"},[s("div",Zs,[s("button",{onClick:v=>Ke(t),class:c([t.en_stock?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600","w-9 h-9 rounded-lg flex items-center justify-center flex-shrink-0 transition-colors text-sm font-bold"])},i(t.en_stock?"✓":"✗"),11,eo),s("div",to,[s("p",{class:c(["font-medium",t.en_stock?"line-through text-gray-400":"text-gray-800"])},i(t.nom),3),s("div",so,[t.quantite?(n(),a("span",oo,i(t.quantite),1)):d("",!0),t.jour?(n(),a("span",no,i(L(t.jour)),1)):d("",!0)])])]),s("div",ao,[t.responsable_nom?(n(),a("span",lo,i(t.responsable_nom),1)):d("",!0),t.responsable_nom?t.responsable_nom===N.value?(n(),a("button",{key:2,onClick:v=>Ge(t),class:"text-xs text-gray-400 hover:text-red-600 transition-colors"}," Annuler ",8,ro)):d("",!0):(n(),a("button",{key:1,onClick:v=>Qe(t),class:"text-xs bg-emerald-50 text-emerald-700 px-3 py-1.5 rounded-lg hover:bg-emerald-100 transition-colors font-medium"}," Je m'en charge ",8,io))])]))),128))]))])):d("",!0),D.value==="equipe"?(n(),a("div",uo,[e[75]||(e[75]=s("h2",{class:"text-xl sm:text-2xl font-semibold text-gray-800 mb-2"},"Équipe de bénévoles",-1)),s("p",mo,i(I.value.length)+" bénévole(s) accepté(s)",1),I.value.length===0?(n(),a("div",co," Aucun bénévole accepté pour le moment. ")):(n(),a("div",xo,[(n(!0),a(_,null,j(I.value,t=>(n(),a("div",{key:t.id,class:"bg-white rounded-xl border p-4"},[s("div",vo,[s("div",{class:c(["w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold",t.id===l.value.id?"bg-emerald-100 text-emerald-700":"bg-gray-100 text-gray-500"])},i(t.prenom[0])+i(t.nom[0]),3),s("div",null,[s("p",po,[m(i(t.prenom)+" "+i(t.nom)+" ",1),t.id===l.value.id?(n(),a("span",bo,"(vous)")):d("",!0)])])]),s("div",fo,[s("p",null,i(Ze(t.id))+" jour(s) de présence",1),s("p",null,i(et(t.id))+" tâche(s) assignée(s)",1)])]))),128))]))])):d("",!0)],64))])):d("",!0)])):d("",!0)])):(n(),a("div",qt,[s("div",$t,[u(r,{to:"/",class:"inline-flex items-center gap-2 text-gray-500 mb-6 hover:text-gray-700 transition-colors text-sm"},{default:P(()=>[u(p(ue),{size:16}),e[42]||(e[42]=m(" Retour au site ",-1))]),_:1}),s("div",St,[u(p(ut),{size:32,class:"text-yellow-600"})]),e[46]||(e[46]=s("h1",{class:"text-2xl font-semibold text-gray-900 mb-2"},"Accès en attente",-1)),s("p",Vt,[e[43]||(e[43]=m(" Votre candidature n'a pas encore été acceptée, ou vous n'avez pas encore fait de demande de bénévolat avec l'email ",-1)),s("strong",null,i(A.value.user.email),1),e[44]||(e[44]=m(". ",-1))]),s("div",Mt,[u(r,{to:"/benevole",class:"block w-full bg-emerald-600 text-white py-3 rounded-xl hover:bg-emerald-700 transition-colors font-medium"},{default:P(()=>[...e[45]||(e[45]=[m(" Faire une demande de bénévolat ",-1)])]),_:1}),s("button",{onClick:xe,class:"block w-full border border-gray-300 text-gray-700 py-3 rounded-xl hover:bg-gray-50 transition-colors font-medium"}," Se déconnecter ")])])])):(n(),a("div",kt,[s("div",wt,[u(r,{to:"/",class:"inline-flex items-center gap-2 text-gray-500 mb-6 hover:text-gray-700 transition-colors text-sm"},{default:P(()=>[u(p(ue),{size:16}),e[31]||(e[31]=m(" Retour au site ",-1))]),_:1}),s("div",Ct,[u(p(ke),{size:32,class:"text-emerald-600"})]),e[40]||(e[40]=s("h1",{class:"text-2xl font-semibold text-gray-900"},"Espace Bénévole",-1)),e[41]||(e[41]=s("p",{class:"text-gray-500 mt-2 text-sm mb-8"}," Vous devez avoir un compte sur le site et avoir été accepté(e) comme bénévole pour accéder à cet espace. ",-1)),s("div",jt,[u(r,{to:"/connexion",class:"block w-full bg-emerald-600 text-white py-3 rounded-xl hover:bg-emerald-700 transition-colors font-medium"},{default:P(()=>[...e[32]||(e[32]=[m(" Se connecter ",-1)])]),_:1}),u(r,{to:"/inscription",class:"block w-full border border-gray-300 text-gray-700 py-3 rounded-xl hover:bg-gray-50 transition-colors font-medium"},{default:P(()=>[...e[33]||(e[33]=[m(" Créer un compte ",-1)])]),_:1})]),s("div",Dt,[s("p",zt,[e[35]||(e[35]=m(" 1. Créez un compte sur le site",-1)),e[36]||(e[36]=s("br",null,null,-1)),e[37]||(e[37]=m(" 2. Faites une demande sur la page ",-1)),u(r,{to:"/benevole",class:"text-emerald-600 hover:underline"},{default:P(()=>[...e[34]||(e[34]=[m("Devenir Bénévole",-1)])]),_:1}),e[38]||(e[38]=s("br",null,null,-1)),e[39]||(e[39]=m(" 3. Une fois accepté(e), revenez ici ",-1))])])])])),b.value?(n(),a("div",{key:4,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:e[29]||(e[29]=H(t=>b.value=null,["self"]))},[s("div",{class:"absolute inset-0 bg-black/40",onClick:e[24]||(e[24]=t=>b.value=null)}),s("div",go,[s("div",yo,[s("div",null,[s("h3",ho,i(Me(b.value)),1),s("p",_o,"Jour "+i(ve(b.value))+" du Ramadan",1)]),s("button",{onClick:e[25]||(e[25]=t=>b.value=null),class:"text-gray-400 hover:text-gray-600 transition-colors p-1"},[u(p(K),{size:20})])]),s("div",ko,[s("div",wo,[e[76]||(e[76]=s("div",null,[s("p",{class:"font-medium text-gray-800"},"Votre présence"),s("p",{class:"text-xs text-gray-500"},"Serez-vous disponible ce jour ?")],-1)),s("button",{onClick:e[26]||(e[26]=t=>Ie(b.value)),class:c([J(b.value)?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-gray-200 text-gray-600 hover:bg-gray-300","px-5 py-2.5 rounded-xl text-sm font-medium transition-colors"])},i(J(b.value)?"Présent":"Absent"),3)]),Z(b.value)>0?(n(),a("div",Co,[s("p",jo," Bénévoles présents ("+i(Z(b.value))+") ",1),s("div",Do,[J(b.value)?(n(),a("span",zo,i(N.value)+" (vous) ",1)):d("",!0),(n(!0),a(_,null,j(Ue(b.value),t=>(n(),a("span",{key:t,class:"text-xs bg-gray-100 text-gray-600 px-2.5 py-1 rounded-lg"},i(t),1))),128))])])):d("",!0),s("div",null,[e[77]||(e[77]=s("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Tâches du jour",-1)),Y(b.value).length>0?(n(),a("div",qo,[(n(!0),a(_,null,j(Y(b.value),t=>(n(),a("div",{key:t.id,class:"flex items-center justify-between gap-2 bg-blue-50/50 rounded-lg px-3 py-2"},[s("div",$o,[s("button",{onClick:v=>pe(t),class:c([t.fait?"bg-emerald-100 text-emerald-600":"bg-gray-200 text-gray-400","w-6 h-6 rounded flex items-center justify-center flex-shrink-0 text-xs font-bold transition-colors"])},i(t.fait?"✓":""),11,So),s("span",{class:c(t.fait?"line-through text-gray-400":"text-gray-700")},i(t.nom),3)]),s("div",Vo,[te(t.benevole_id)?(n(),a("span",Mo,i(te(t.benevole_id)),1)):d("",!0),t.benevole_id?d("",!0):(n(),a("button",{key:1,onClick:v=>be(t),class:"text-[11px] text-emerald-600 hover:underline"}," Prendre ",8,Ro)),ne.value||t.created_by===l.value.id?(n(),a("button",{key:2,onClick:v=>fe(t.id),class:"text-gray-300 hover:text-red-500 transition-colors"},[u(p(K),{size:14})],8,To)):d("",!0)])]))),128))])):(n(),a("p",Po,"Aucune tâche pour ce jour.")),s("form",{onSubmit:H(Ae,["prevent"]),class:"flex gap-2"},[w(s("input",{"onUpdate:modelValue":e[27]||(e[27]=t=>E.value=t),placeholder:"Ajouter une tâche...",class:"flex-1 px-3 py-2 border rounded-lg text-sm focus:outline-none focus:border-emerald-600"},null,512),[[C,E.value]]),s("button",{type:"submit",disabled:!E.value.trim(),class:"bg-emerald-600 text-white px-3 py-2 rounded-lg hover:bg-emerald-700 text-sm disabled:opacity-40"},[u(p(me),{size:16})],8,Ao)],32)]),X(b.value).length>0?(n(),a("div",No,[e[78]||(e[78]=s("p",{class:"text-sm font-medium text-gray-700 mb-2"},"Courses pour ce jour",-1)),s("div",Fo,[(n(!0),a(_,null,j(X(b.value),t=>(n(),a("div",{key:t.id,class:"flex items-center gap-2 text-sm"},[s("span",{class:c(["w-1.5 h-1.5 rounded-full flex-shrink-0",t.en_stock?"bg-emerald-500":"bg-red-400"])},null,2),s("span",{class:c(t.en_stock?"line-through text-gray-400":"text-gray-700")},[m(i(t.nom),1),t.quantite?(n(),a(_,{key:0},[m(" ("+i(t.quantite)+")",1)],64)):d("",!0)],2),t.responsable_nom?(n(),a("span",Uo,i(t.responsable_nom),1)):d("",!0)]))),128))])])):d("",!0),s("div",null,[e[79]||(e[79]=s("p",{class:"text-sm font-medium text-gray-700 mb-3"},"Notes partagées",-1)),ge(b.value).length>0?(n(),a("div",Io,[(n(!0),a(_,null,j(ge(b.value),t=>(n(),a("div",{key:t.id,class:"bg-gray-50 rounded-xl px-4 py-3"},[s("div",Lo,[s("div",Bo,[s("p",Eo,i(t.contenu),1),s("p",Jo,i(t.auteur_nom)+" · "+i(Oe(t.created_at)),1)]),ne.value||t.benevole_id===l.value.id?(n(),a("button",{key:0,onClick:v=>We(t.id),class:"text-gray-300 hover:text-red-500 transition-colors flex-shrink-0 p-0.5"},[u(p(K),{size:14})],8,Oo)):d("",!0)])]))),128))])):(n(),a("p",Ho,"Aucune note pour ce jour.")),s("form",{onSubmit:H(He,["prevent"]),class:"flex gap-2"},[w(s("input",{"onUpdate:modelValue":e[28]||(e[28]=t=>T.value=t),placeholder:"Écrire une note...",class:"flex-1 px-4 py-2.5 border rounded-xl text-sm focus:outline-none focus:border-emerald-600 transition-colors"},null,512),[[C,T.value]]),s("button",{type:"submit",disabled:!T.value.trim(),class:"bg-emerald-600 text-white px-4 py-2.5 rounded-xl hover:bg-emerald-700 transition-colors text-sm font-medium disabled:opacity-40"}," Ajouter ",8,Wo)],32)])])])])):d("",!0)])}}};export{on as default};
