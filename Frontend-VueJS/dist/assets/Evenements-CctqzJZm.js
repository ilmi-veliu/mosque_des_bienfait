import{c as j,r as d,a as h,o as D,b as o,d as n,e as t,f as r,w as S,g as E,u,h as M,i as w,v as R,t as i,n as V,j as $,k as c,F as q,l as T,s as y,p as A,C as F}from"./index-DFNxEs4S.js";import{C as N}from"./chevron-left-Daamktqa.js";import{S as U}from"./search-0KCnwv06.js";import{C as B}from"./chevron-down-C_1ij1N1.js";import{C as I}from"./clock-8NrhTGdW.js";import{M as H}from"./map-pin-Bnzmezz-.js";import{U as O}from"./users-CvPSSWcP.js";/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=j("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),Q={class:"bg-[#030213] text-white py-24 px-4 text-center"},G={class:"max-w-7xl mx-auto"},J={class:"bg-white py-10 px-4 border-b border-gray-200"},K={class:"max-w-6xl mx-auto flex flex-col sm:flex-row flex-wrap gap-4 sm:gap-5 items-stretch sm:items-center"},W={class:"flex-1 min-w-0 sm:min-w-[300px] relative"},X={class:"relative"},Y={class:"text-sm font-medium"},Z={class:"absolute right-0 top-full mt-2 w-56 bg-white border border-gray-200 rounded-xl shadow-lg overflow-hidden z-10"},ee={key:0,class:"text-green-600"},te={key:0,class:"text-green-600"},se={key:0,class:"text-green-600"},le={key:0,class:"text-green-600"},oe={key:0,class:"text-green-600"},ne={class:"py-16 px-4"},ae={class:"max-w-6xl mx-auto"},re={key:0,class:"text-center py-20"},ie={key:1,class:"text-center py-20"},ue={class:"text-red-600"},de={key:2,class:"grid md:grid-cols-2 lg:grid-cols-3 gap-8"},ce={class:"relative"},pe=["src","alt"],xe={class:"absolute top-4 left-4 bg-[#030213] text-white px-4 py-1.5 rounded-full text-xs font-semibold"},me={class:"p-6"},ve={class:"text-xl font-semibold text-gray-900 mb-3"},ge={class:"text-gray-600 text-sm leading-relaxed mb-5"},fe={class:"space-y-2.5"},ye={class:"flex items-center gap-2.5 text-sm text-gray-700"},be={class:"flex items-center gap-2.5 text-sm text-gray-700"},he={class:"flex items-center gap-2.5 text-sm text-gray-700"},we={class:"flex items-center gap-2.5 text-sm text-gray-700"},_e={key:3,class:"text-center py-20"},Me={__name:"Evenements",setup(Ce){const p=d(""),a=d(null),x=d(!1),v=d([]),g=d(!0),f=d(null),_=h(()=>a.value||"Toutes les catégories"),m=l=>{a.value=l,x.value=!1},b=h(()=>{let l=v.value;return p.value&&(l=l.filter(e=>e.titre.toLowerCase().includes(p.value.toLowerCase())||e.description&&e.description.toLowerCase().includes(p.value.toLowerCase()))),a.value&&(l=l.filter(e=>e.categorie===a.value)),l}),C=l=>{const e={weekday:"long",year:"numeric",month:"long",day:"numeric"};return new Date(l).toLocaleDateString("fr-FR",e)},k=l=>l?l.substring(0,5):"",z=async()=>{try{y.evenements.length>0&&(v.value=y.evenements,g.value=!1),await A(!0),v.value=y.evenements}catch(l){console.error("Erreur:",l),v.value.length===0&&(f.value="Impossible de charger les événements.")}finally{g.value=!1}};return D(()=>{z()}),(l,e)=>{const L=M("router-link");return n(),o("div",null,[t("section",Q,[t("div",G,[r(L,{to:"/",class:"inline-flex items-center gap-2 text-white mb-8 hover:opacity-80 transition-opacity"},{default:S(()=>[r(u(N),{size:20}),e[7]||(e[7]=E(" Retour à l'accueil ",-1))]),_:1}),e[8]||(e[8]=t("h1",{class:"text-4xl md:text-5xl font-semibold mb-5"},"Événements de la Mosquée",-1)),e[9]||(e[9]=t("p",{class:"max-w-3xl mx-auto text-lg leading-relaxed opacity-90"}," Découvrez tous nos événements passés et à venir. Une communauté dynamique qui organise régulièrement des activités spirituelles, éducatives et culturelles. ",-1))])]),t("section",J,[t("div",K,[t("div",W,[r(u(U),{class:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:20}),w(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),type:"text",placeholder:"Rechercher un événement...",class:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:border-gray-900 transition-colors"},null,512),[[R,p.value]])]),t("div",X,[t("button",{onClick:e[1]||(e[1]=s=>x.value=!x.value),class:"flex items-center gap-3 px-5 py-3 border border-gray-300 rounded-xl bg-white hover:bg-gray-50 transition-colors"},[r(u(P),{size:18}),t("span",Y,i(_.value),1),r(u(B),{size:16,class:V([{"rotate-180":x.value},"transition-transform"])},null,8,["class"])]),w(t("div",Z,[t("button",{onClick:e[2]||(e[2]=s=>m(null)),class:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex items-center justify-between"},[e[10]||(e[10]=t("span",null,"Toutes les catégories",-1)),a.value===null?(n(),o("span",ee,"✓")):c("",!0)]),t("button",{onClick:e[3]||(e[3]=s=>m("Religieux")),class:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex items-center justify-between"},[e[11]||(e[11]=t("span",null,"Religieux",-1)),a.value==="Religieux"?(n(),o("span",te,"✓")):c("",!0)]),t("button",{onClick:e[4]||(e[4]=s=>m("Éducation")),class:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex items-center justify-between"},[e[12]||(e[12]=t("span",null,"Éducation",-1)),a.value==="Éducation"?(n(),o("span",se,"✓")):c("",!0)]),t("button",{onClick:e[5]||(e[5]=s=>m("Social")),class:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex items-center justify-between"},[e[13]||(e[13]=t("span",null,"Social",-1)),a.value==="Social"?(n(),o("span",le,"✓")):c("",!0)]),t("button",{onClick:e[6]||(e[6]=s=>m("Culturel")),class:"w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors flex items-center justify-between"},[e[14]||(e[14]=t("span",null,"Culturel",-1)),a.value==="Culturel"?(n(),o("span",oe,"✓")):c("",!0)])],512),[[$,x.value]])])])]),t("section",ne,[t("div",ae,[e[17]||(e[17]=t("h2",{class:"text-3xl font-semibold text-gray-900 mb-10"},"Événements à Venir",-1)),g.value?(n(),o("div",re,[...e[15]||(e[15]=[t("div",{class:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-gray-300 border-t-gray-900"},null,-1),t("p",{class:"mt-4 text-gray-600"},"Chargement des événements...",-1)])])):f.value?(n(),o("div",ie,[t("p",ue,i(f.value),1)])):(n(),o("div",de,[(n(!0),o(q,null,T(b.value,s=>(n(),o("div",{key:s.id,class:"bg-white rounded-2xl overflow-hidden shadow-md hover:-translate-y-2 hover:shadow-xl transition-all cursor-pointer"},[t("div",ce,[t("img",{src:s.image_url||"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?q=80&w=800",alt:s.titre,class:"w-full h-56 object-cover"},null,8,pe),t("span",xe,i(s.categorie),1)]),t("div",me,[t("h3",ve,i(s.titre),1),t("p",ge,i(s.description),1),t("div",fe,[t("div",ye,[r(u(F),{size:18,class:"text-gray-400"}),t("span",null,i(C(s.date)),1)]),t("div",be,[r(u(I),{size:18,class:"text-gray-400"}),t("span",null,i(k(s.heure)),1)]),t("div",he,[r(u(H),{size:18,class:"text-gray-400"}),t("span",null,i(s.lieu),1)]),t("div",we,[r(u(O),{size:18,class:"text-gray-400"}),t("span",null,i(s.participants_max)+" participants attendus",1)])])])]))),128))])),!g.value&&!f.value&&b.value.length===0?(n(),o("div",_e,[...e[16]||(e[16]=[t("p",{class:"text-gray-600"},"Aucun événement trouvé.",-1)])])):c("",!0)])])])}}};export{Me as default};
