import{c as j,r as d,o as q,z as h,b as i,d as n,e as t,f as o,w as E,g as c,u as l,h as M,H as S,C as N,G as _,D as B,k as g,A as D,t as f,i as b,v as y,n as R,x as T,m as U}from"./index-CIg7Y9mF.js";import{C as A}from"./chevron-left-DNiIm_Ka.js";import{B as H}from"./book-open-CsiHxctT.js";import{W as I,M as F,U as L,S as O}from"./wrench-Cl1WVEq-.js";import{C as P}from"./clock-mJ1Td11t.js";import{M as W}from"./mail-BnfpeX8t.js";/**
 * @license lucide-vue-next v0.552.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=j("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),$={class:"bg-[#030213] text-white py-24 px-4 text-center"},J={class:"max-w-7xl mx-auto"},K={class:"py-16 px-4 bg-gray-50"},Q={class:"max-w-6xl mx-auto"},X={class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6"},Y={class:"bg-white rounded-xl p-6 shadow-sm border"},Z={class:"w-12 h-12 bg-emerald-50 rounded-lg flex items-center justify-center mb-4"},ee={class:"bg-white rounded-xl p-6 shadow-sm border"},te={class:"w-12 h-12 bg-emerald-50 rounded-lg flex items-center justify-center mb-4"},se={class:"bg-white rounded-xl p-6 shadow-sm border"},oe={class:"w-12 h-12 bg-emerald-50 rounded-lg flex items-center justify-center mb-4"},le={class:"bg-white rounded-xl p-6 shadow-sm border"},ae={class:"w-12 h-12 bg-emerald-50 rounded-lg flex items-center justify-center mb-4"},ne={class:"bg-white rounded-xl p-6 shadow-sm border"},re={class:"w-12 h-12 bg-emerald-50 rounded-lg flex items-center justify-center mb-4"},ie={class:"bg-white rounded-xl p-6 shadow-sm border"},de={class:"w-12 h-12 bg-emerald-50 rounded-lg flex items-center justify-center mb-4"},ue={class:"bg-white rounded-xl p-6 shadow-sm border"},me={class:"w-12 h-12 bg-emerald-50 rounded-lg flex items-center justify-center mb-4"},xe={class:"py-16 px-4 bg-gray-50"},pe={class:"max-w-2xl mx-auto"},ve={key:0,class:"bg-amber-50 border border-amber-200 rounded-xl p-6 text-center"},be={class:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4"},ce={class:"text-amber-700 text-sm"},ge={key:0},fe={key:1},ye={key:2},we={key:1,class:"bg-emerald-50 border border-emerald-200 rounded-xl p-6 text-center"},he={class:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4"},ke={class:"bg-emerald-50 border border-emerald-200 rounded-xl px-4 py-3 flex items-center gap-3"},Ce={class:"text-sm text-emerald-900 font-semibold"},ze={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Ee={key:0,class:"text-xs text-red-500 mt-1"},Ve={key:0,class:"bg-red-50 text-red-700 px-4 py-3 rounded-xl text-sm"},je=["disabled"],Re={__name:"DevenirBenevole",setup(qe){const u=d(!1),k=d(!1),p=d(""),m=d(""),w=d(""),C=d(!1),v=d(""),s=d({prenom:"",nom:"",telephone:"",domaine:"",message:""});q(async()=>{const{data:{session:a}}=await h.auth.getSession();if(a){w.value=a.user.email;const e=a.user.user_metadata;e!=null&&e.prenom&&(s.value.prenom=e.prenom),e!=null&&e.nom&&(s.value.nom=e.nom);const{data:x}=await h.from("benevoles").select("id, statut").eq("email",a.user.email).limit(1);x&&x.length>0&&(C.value=!0,v.value=x[0].statut)}});const z=()=>{m.value="";const a=s.value.telephone.replace(/\s/g,"");if(!a)return;/^(\+33|0)[1-9](\d{8})$/.test(a)||(m.value="Numéro invalide. Format attendu : 06 12 34 56 78 ou +33612345678")},V=async()=>{if(u.value=!0,p.value="",z(),m.value){u.value=!1;return}const{error:a}=await h.from("benevoles").insert({prenom:s.value.prenom,nom:s.value.nom,email:w.value,telephone:s.value.telephone,domaine:s.value.domaine,message:s.value.message||null});if(a){a.code==="42501"?p.value="Une seule demande par jour est autorisée. Veuillez réessayer demain.":p.value="Erreur lors de l'envoi. Veuillez réessayer.",u.value=!1;return}u.value=!1,k.value=!0};return(a,e)=>{const x=M("router-link");return n(),i("div",null,[t("section",$,[t("div",J,[o(x,{to:"/",class:"inline-flex items-center gap-2 text-white mb-8 hover:opacity-80 transition-opacity"},{default:E(()=>[o(l(A),{size:20}),e[5]||(e[5]=c(" Retour à l'accueil ",-1))]),_:1}),e[6]||(e[6]=t("h1",{class:"text-4xl md:text-5xl font-semibold mb-5"},"Devenir Bénévole",-1)),e[7]||(e[7]=t("p",{class:"max-w-3xl mx-auto text-lg leading-relaxed opacity-90"}," Rejoignez notre équipe de bénévoles et contribuez au bien-être de la communauté. Chaque aide compte, quel que soit votre domaine de compétence. ",-1))])]),t("section",K,[t("div",Q,[e[22]||(e[22]=t("h2",{class:"text-2xl font-semibold text-gray-900 mb-8 text-center"},"Nos domaines de bénévolat",-1)),t("div",X,[t("div",Y,[t("div",Z,[o(l(H),{size:24,class:"text-emerald-600"})]),e[8]||(e[8]=t("h3",{class:"font-semibold text-gray-800 mb-2"},"Enseignement",-1)),e[9]||(e[9]=t("p",{class:"text-sm text-gray-600"},"Cours de Coran, langue arabe, soutien scolaire pour les enfants et adultes.",-1))]),t("div",ee,[t("div",te,[o(l(S),{size:24,class:"text-emerald-600"})]),e[10]||(e[10]=t("h3",{class:"font-semibold text-gray-800 mb-2"},"Social & Entraide",-1)),e[11]||(e[11]=t("p",{class:"text-sm text-gray-600"},"Distribution alimentaire, aide aux familles, accompagnement des personnes isolées.",-1))]),t("div",se,[t("div",oe,[o(l(N),{size:24,class:"text-emerald-600"})]),e[12]||(e[12]=t("h3",{class:"font-semibold text-gray-800 mb-2"},"Événements",-1)),e[13]||(e[13]=t("p",{class:"text-sm text-gray-600"},"Organisation des événements, accueil des visiteurs, logistique.",-1))]),t("div",le,[t("div",ae,[o(l(I),{size:24,class:"text-emerald-600"})]),e[14]||(e[14]=t("h3",{class:"font-semibold text-gray-800 mb-2"},"Entretien & Travaux",-1)),e[15]||(e[15]=t("p",{class:"text-sm text-gray-600"},"Nettoyage, petits travaux, maintenance de la mosquée.",-1))]),t("div",ne,[t("div",re,[o(l(F),{size:24,class:"text-emerald-600"})]),e[16]||(e[16]=t("h3",{class:"font-semibold text-gray-800 mb-2"},"Communication & Informatique",-1)),e[17]||(e[17]=t("p",{class:"text-sm text-gray-600"},"Réseaux sociaux, site web, graphisme, photo/vidéo.",-1))]),t("div",ie,[t("div",de,[o(l(L),{size:24,class:"text-emerald-600"})]),e[18]||(e[18]=t("h3",{class:"font-semibold text-gray-800 mb-2"},"Cuisine Ramadan",-1)),e[19]||(e[19]=t("p",{class:"text-sm text-gray-600"},"Préparation des repas d'iftar, organisation de la cuisine pendant le mois de Ramadan.",-1))]),t("div",ue,[t("div",me,[o(l(_),{size:24,class:"text-emerald-600"})]),e[20]||(e[20]=t("h3",{class:"font-semibold text-gray-800 mb-2"},"Autre",-1)),e[21]||(e[21]=t("p",{class:"text-sm text-gray-600"},"Toute autre compétence ou envie d'aider est la bienvenue !",-1))])])])]),t("section",xe,[t("div",pe,[e[35]||(e[35]=t("h2",{class:"text-2xl font-semibold text-gray-900 mb-2 text-center"},"Envoyer votre candidature",-1)),e[36]||(e[36]=t("p",{class:"text-gray-500 text-center mb-10"},"Remplissez le formulaire ci-dessous et nous vous recontacterons.",-1)),C.value?(n(),i("div",ve,[t("div",be,[o(l(P),{size:32,class:"text-amber-600"})]),e[25]||(e[25]=t("h3",{class:"text-lg font-semibold text-amber-800 mb-2"},"Candidature déjà envoyée",-1)),t("p",ce,[e[23]||(e[23]=c(" Vous avez déjà envoyé une candidature avec ce compte. ",-1)),v.value==="nouveau"?(n(),i("span",ge,"Elle est en cours d'examen.")):v.value==="accepté"?(n(),i("span",fe,"Vous êtes déjà accepté(e) !")):v.value==="refusé"?(n(),i("span",ye,"Votre candidature a été refusée. Vous pouvez en envoyer une nouvelle demain.")):g("",!0)]),v.value==="accepté"?(n(),B(x,{key:0,to:"/espace-benevole",class:"mt-4 inline-block bg-emerald-600 text-white px-6 py-2 rounded-xl hover:bg-emerald-700 transition-colors font-medium text-sm"},{default:E(()=>[...e[24]||(e[24]=[c(" Accéder à l'espace bénévole ",-1)])]),_:1})):g("",!0)])):k.value?(n(),i("div",we,[t("div",he,[o(l(G),{size:32,class:"text-emerald-600"})]),e[26]||(e[26]=t("h3",{class:"text-lg font-semibold text-emerald-800 mb-2"},"Candidature envoyée !",-1)),e[27]||(e[27]=t("p",{class:"text-emerald-700 text-sm"},"Merci pour votre intérêt. Nous reviendrons vers vous très prochainement incha'Allah.",-1))])):(n(),i("form",{key:2,onSubmit:D(V,["prevent"]),class:"space-y-5"},[t("div",ke,[o(l(W),{size:18,class:"text-emerald-600 flex-shrink-0"}),t("div",null,[e[28]||(e[28]=t("p",{class:"text-xs text-emerald-700 font-medium"},"Connecté en tant que",-1)),t("p",Ce,f(w.value),1)])]),t("div",ze,[t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Prénom *",-1)),b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.value.prenom=r),required:"",class:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:outline-none focus:border-emerald-600 transition-colors"},null,512),[[y,s.value.prenom]])]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nom *",-1)),b(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>s.value.nom=r),required:"",class:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:outline-none focus:border-emerald-600 transition-colors"},null,512),[[y,s.value.nom]])])]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Téléphone *",-1)),b(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>s.value.telephone=r),type:"tel",required:"",placeholder:"06 12 34 56 78",class:R(["w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:outline-none focus:border-emerald-600 transition-colors",m.value?"border-red-400":""]),onBlur:z},null,34),[[y,s.value.telephone]]),m.value?(n(),i("p",Ee,f(m.value),1)):g("",!0)]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Domaine(s) souhaité(s) *",-1)),b(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>s.value.domaine=r),required:"",class:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:outline-none focus:border-emerald-600 transition-colors"},[...e[32]||(e[32]=[U('<option value="" disabled>Choisir un domaine</option><option value="Enseignement">Enseignement</option><option value="Social &amp; Entraide">Social &amp; Entraide</option><option value="Événements">Événements</option><option value="Entretien &amp; Travaux">Entretien &amp; Travaux</option><option value="Communication &amp; Informatique">Communication &amp; Informatique</option><option value="Cuisine Ramadan">Cuisine Ramadan</option><option value="Autre">Autre</option>',8)])],512),[[T,s.value.domaine]])]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Message (optionnel)",-1)),b(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=r=>s.value.message=r),rows:"4",placeholder:"Décrivez vos motivations, disponibilités, compétences...",class:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:outline-none focus:border-emerald-600 transition-colors"},null,512),[[y,s.value.message]])]),p.value?(n(),i("div",Ve,f(p.value),1)):g("",!0),t("button",{type:"submit",disabled:u.value,class:"w-full bg-emerald-600 text-white py-3 rounded-xl hover:bg-emerald-700 transition-colors font-medium disabled:opacity-50 flex items-center justify-center gap-2"},[o(l(O),{size:18}),c(" "+f(u.value?"Envoi en cours...":"Envoyer ma candidature"),1)],8,je)],32))])])])}}};export{Re as default};
