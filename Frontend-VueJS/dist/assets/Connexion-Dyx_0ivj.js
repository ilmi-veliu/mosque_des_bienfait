import{r as o,b as v,d as l,e as t,f as u,u as m,k as g,t as x,A as C,i as w,v as E,n as V,B,D as _,g as f,w as h,h as M,E as A,z as D}from"./index-CIg7Y9mF.js";import{L}from"./log-in-CMtvSCD5.js";import{E as N}from"./eye-off-BFokEiN3.js";import{E as S}from"./eye-Be8F1rml.js";import{C as P}from"./chevron-left-DNiIm_Ka.js";const Z={class:"min-h-screen bg-gray-50 py-16 px-4"},q={class:"max-w-md mx-auto"},I={class:"text-center mb-8"},R={class:"flex justify-center mb-4"},T={class:"bg-white rounded-2xl shadow-sm border p-8"},U={key:0,class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm mb-6"},$={key:0,class:"text-xs text-red-500 mt-1"},j={class:"relative"},O=["type"],W=["disabled"],F={class:"mt-6 text-center space-y-3"},G={class:"text-sm text-gray-500"},ee={__name:"Connexion",setup(H){const k=A(),r=o(""),c=o(""),a=o(!1),n=o(""),s=o(""),i=o(!1),y=()=>{if(s.value="",!r.value.trim())return;/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r.value.trim())||(s.value="Veuillez entrer une adresse email valide (ex: nom@exemple.com)")},z=async()=>{if(a.value=!0,n.value="",y(),s.value){a.value=!1;return}const{error:p}=await D.auth.signInWithPassword({email:r.value,password:c.value});if(p){n.value="Email ou mot de passe incorrect.",a.value=!1;return}k.push("/")};return(p,e)=>{const b=M("router-link");return l(),v("div",Z,[t("div",q,[t("div",I,[t("div",R,[u(m(L),{size:48,class:"text-gray-700"})]),e[3]||(e[3]=t("h1",{class:"text-3xl font-semibold text-gray-900 mb-3"},"Connexion",-1)),e[4]||(e[4]=t("p",{class:"text-gray-500"}," Connectez-vous pour accéder à votre espace membre. ",-1))]),t("div",T,[n.value?(l(),v("div",U,x(n.value),1)):g("",!0),t("form",{onSubmit:C(z,["prevent"]),class:"space-y-5"},[t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email *",-1)),w(t("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>r.value=d),type:"email",required:"",placeholder:"votre.email@exemple.com",class:V(["w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:outline-none focus:border-gray-900 transition-colors",s.value?"border-red-400":""]),onBlur:y},null,34),[[E,r.value]]),s.value?(l(),v("p",$,x(s.value),1)):g("",!0)]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Mot de passe *",-1)),t("div",j,[w(t("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>c.value=d),type:i.value?"text":"password",required:"",placeholder:"Votre mot de passe",class:"w-full px-4 py-2.5 border border-gray-300 rounded-xl focus:outline-none focus:border-gray-900 transition-colors pr-12"},null,8,O),[[B,c.value]]),t("button",{type:"button",onClick:e[2]||(e[2]=d=>i.value=!i.value),class:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors"},[i.value?(l(),_(m(N),{key:0,size:18})):(l(),_(m(S),{key:1,size:18}))])])]),t("button",{type:"submit",disabled:a.value,class:"w-full bg-gradient-to-r from-emerald-600 to-teal-700 text-white py-3 rounded-xl font-semibold hover:from-emerald-700 hover:to-teal-800 transition-all disabled:opacity-50"},x(a.value?"Connexion...":"Se connecter"),9,W)],32),t("div",F,[t("p",G,[e[8]||(e[8]=f(" Pas encore de compte ? ",-1)),u(b,{to:"/inscription",class:"text-gray-900 font-medium hover:underline"},{default:h(()=>[...e[7]||(e[7]=[f("S'inscrire",-1)])]),_:1})]),u(b,{to:"/",class:"text-sm text-gray-400 hover:text-gray-600 inline-flex items-center gap-1"},{default:h(()=>[u(m(P),{size:14}),e[9]||(e[9]=f(" Retour à l'accueil ",-1))]),_:1})])])])])}}};export{ee as default};
